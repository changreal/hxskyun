{"version":3,"sources":["./src/app/pages/join-classes/join-classes.page.html","./src/app/pages/join-classes/join-classes-routing.module.ts","./src/app/pages/join-classes/join-classes.module.ts","./src/app/pages/join-classes/join-classes.page.scss","./src/app/pages/join-classes/join-classes.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,m2DAAoyD,uDAAuD,kHAAkH,sBAAsB,qKAAqK,mBAAmB,qEAAqE,oBAAoB,MAAM,MAAM,MAAM,QAAQ,cAAc,4EAA4E,uBAAuB,2e;;;;;;;;;;;;;;;;;;;ACAr2E;AACc;AAED;AAItD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAE3B;IACD,IAAI;IACJ,uBAAuB;IACvB,gGAAgG;IAChG,KAAK;IACL;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,sQAAkC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACvF;IACD;QACE,IAAI,EAAE,cAAc;QACpB,YAAY,EAAE,GAAG,EAAE,CAAC,8SAA4C,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC;KACrG;IACD;QACE,IAAI,EAAE,YAAY;QAClB,YAAY,EAAE,GAAG,EAAE,CAAC,+OAAwC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC;KAC/F;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CAAC,+LAA4B,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;KAC9E;IACD;QACE,IAAI,EAAE,SAAS;QACf,YAAY,EAAE,GAAG,EAAE,CAAC,sQAAkC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;KACtF;CAGF;AAQD,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;CAAG;AAA/B,4BAA4B;IANxC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACM;AACF;AAEA;AAEgC;AAEvB;AACtD,UAAU;AACiD;AACE;AAe7D,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;CAAG;AAAxB,qBAAqB;IAZjC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,oBAAoB;YACpB,yFAA4B;YAC5B,sEAAgB;YAChB,yEAAiB;SAClB;QACD,YAAY,EAAE,CAAC,kEAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;AC1BlC;AAAe,6GAA8C,+J;;;;;;;;;;;;;;;;;;;;;;;;;ACAX;AACT;AACqC;AACX;AACoB;AAClB;AACc;AAChC;AACJ;AAO/C,IAAa,eAAe,GAA5B,MAAa,eAAgB,SAAQ,4DAAM;IAczC,YAAoB,UAA6B,EACxC,MAAa,EACZ,cAA8B,EAC9B,mBAA0C,EAC3C,YAAyB,EACzB,YAAiC,EACjC,iBAAoC;QAEzC,KAAK,EAAE;QARS,eAAU,GAAV,UAAU,CAAmB;QACxC,WAAM,GAAN,MAAM,CAAO;QACZ,mBAAc,GAAd,cAAc,CAAgB;QAC9B,wBAAmB,GAAnB,mBAAmB,CAAuB;QAC3C,iBAAY,GAAZ,YAAY,CAAa;QACzB,iBAAY,GAAZ,YAAY,CAAqB;QACjC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAjB7C,WAAM,GAAO,EAAE;QAQf,mBAAc,GAAG,CAAC;IAYhB,CAAC;IAGH,QAAQ;QACN,qDAAqD;QACrD,wBAAwB;IAE1B,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAC,EAAE,CAAC;QAClD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,EAAE;YAC7C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC;IACJ,CAAC;IAGD,cAAc,CAAC,KAAK;QAClB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YAC7D,8CAA8C;YAC9C,IAAI,MAAM,CAAC,IAAI,IAAG,KAAK,EAAE;gBACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI;gBAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;aAC1C;iBAAI;gBACH,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC;aACzC;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAO,KAAK,EAAC,EAAE;YACtB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,aAAa,CAAC;QAC7C,CAAC,EAAC,CAAC,OAAO,CAAC,GAAG,EAAE;YACd,IAAI,KAAK,IAAI,IAAI,EAAE,EAAE,gCAAgC;gBACnD,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzB;QACH,CAAC,CAAC;IAEJ,CAAC;IAGD,SAAS;QAEP,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;YAC5C,IAAI,CAAC,QAAQ,GAAC,WAAW,CAAC,MAAM,CAAC;YACjC,6BAA6B;YAC7B,sCAAsC;YACtC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,EAAE,EAAC,WAAW,EAAE,EAAC,GAAG,EAAE,IAAI,CAAC,QAAQ;iBAClF,EAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACX,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC;QACrC,CAAC,CAAC,CAAC;IAEJ,CAAC;CAGF;;YA7DiC,sFAAiB;YACjC,sDAAM;YACI,gFAAc;YACT,oGAAqB;YAC9B,kFAAY;YACZ,2FAAoB;YACd,gEAAiB;;AApBlC,eAAe;IAL3B,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,oOAAuC;;KAExC,CAAC;2EAegC,sFAAiB;QACjC,sDAAM;QACI,gFAAc;QACT,oGAAqB;QAC9B,kFAAY;QACZ,2FAAoB;QACd,gEAAiB;GApBlC,eAAe,CA2E3B;AA3E2B","file":"join-classes-join-classes-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>我加入的班课</ion-title>\\r\\n     <!-- 加入按钮 -->\\r\\n    <ion-buttons slot=\\\"end\\\" size='large'>\\r\\n      \\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <!-- 点击进入输入班课号页面 -->\\r\\n        <ion-button color=\\\"primary\\\"  [routerLink]=\\\"['/tabs/join-classes/join-class']\\\" >\\r\\n          <!-- <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\" size='large' ></ion-icon> -->\\r\\n          <!-- <ion-icon name=\\\"arrow-forward-outline\\\" slot=\\\"icon-only\\\" size='large'></ion-icon> -->\\r\\n          <!-- <ion-icon name=\\\"chevron-forward-circle-outline\\\" slot=\\\"icon-only\\\" size='large'></ion-icon> -->\\r\\n          <ion-icon name=\\\"enter-outline\\\"  slot=\\\"icon-only\\\" size='large'></ion-icon>\\r\\n        </ion-button>\\r\\n        <!-- 二维码扫描加入班课 -->\\r\\n        <!-- <ion-button color=\\\"primary\\\" [routerLink]=\\\"['/join-classes/join-class']\\\" > -->\\r\\n         \\r\\n        <ion-button color=\\\"primary\\\"   (click)=\\\"brscanner()\\\" >\\r\\n          <!-- <ion-icon name=\\\"scan-outline\\\" slot=\\\"icon-only\\\"></ion-icon> -->\\r\\n          <ion-icon name=\\\"barcode-outline\\\" size='large' slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n\\r\\n      </ion-buttons>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n\\r\\n    <!-- 下拉刷新组件 -->\\r\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"loadCourseData($event)\\\" >\\r\\n      <ion-refresher-content\\r\\n        pullingIcon=\\\"arrow-dropdown\\\"\\r\\n        pullingText=\\\"下拉刷新\\\"\\r\\n        refreshingSpinner=\\\"circles\\\"\\r\\n        refreshingText=\\\"加载中...\\\">\\r\\n      </ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n\\r\\n  <!-- 课程列表 -->\\r\\n\\r\\n  <ion-list *ngIf=\\\"courses_length\\\">\\r\\n\\r\\n    <ion-item button detail lines='full' *ngFor=\\\"let course of courses\\\" routerLink=\\\"/join-classes/members\\\"  [queryParams]=\\\"{courseId:course.courseId, courseName:course.courseName}\\\" >\\r\\n      <!-- 头像部分 -->\\r\\n      <ion-thumbnail slot=\\\"start\\\">\\r\\n        <div class=\\\"profile_icon_blue\\\">{{course.courseName[0]}}</div>\\r\\n      </ion-thumbnail>\\r\\n\\r\\n      <!-- 内容部分 -->\\r\\n      <ion-label>\\r\\n        <!-- 文字部分 -->\\r\\n        <ion-text color=\\\"primary\\\">\\r\\n          <h3>{{course.courseName}}</h3>\\r\\n        </ion-text>\\r\\n        <ion-text>\\r\\n          <p>{{course.teacherName}}&nbsp;&nbsp;&nbsp;<span>{{course.major}}</span></p>\\r\\n        </ion-text>\\r\\n        <ion-text >\\r\\n          <p>{{course.courseSemester}} </p>\\r\\n        </ion-text>\\r\\n\\r\\n        <!-- 按钮部分 -->\\r\\n        <!-- <div>\\r\\n          <ion-buttons slot=\\\"secondary\\\" >\\r\\n            <ion-button slot=\\\"end\\\" size=\\\"small\\\" > \\r\\n              <ion-icon name=\\\"hand-right-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n              签到\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n        </div> -->\\r\\n      </ion-label>\\r\\n      <!-- 内容部分结束 -->\\r\\n\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { JoinClassesPage } from './join-classes.page';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', \r\n    component: JoinClassesPage,\r\n    \r\n  },\r\n  // {\r\n  //   path: 'join-tabs',\r\n  //   loadChildren: () => import('./join-tabs/join-tabs.module').then( m => m.JoinTabsPageModule)\r\n  // },\r\n  {\r\n    path: 'members',\r\n    loadChildren: () => import('./members/members.module').then( m => m.MembersPageModule)\r\n  },\r\n  {\r\n    path: 'class-detail',\r\n    loadChildren: () => import('./class-detail/class-detail.module').then( m => m.ClassDetailPageModule)\r\n  },\r\n  {\r\n    path: 'join-class',\r\n    loadChildren: () => import('./join-class/join-class.module').then( m => m.JoinClassPageModule)\r\n  },\r\n  {\r\n    path: 'join',\r\n    loadChildren: () => import('./join/join.module').then( m => m.JoinPageModule)\r\n  },\r\n  {\r\n    path: 'sign-in',\r\n    loadChildren: () => import('./sign-in/sign-in.module').then( m => m.SignInPageModule)\r\n  },\r\n  \r\n\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class JoinClassesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { JoinClassesPageRoutingModule } from './join-classes-routing.module';\r\n\r\nimport { JoinClassesPage } from './join-classes.page';\r\n// 引入自定义模块\r\nimport { SearchPageModule }  from '../search/search.module'\r\nimport { MembersPageModule } from \"./members/members.module\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    // ComponentsModule,\r\n    JoinClassesPageRoutingModule,\r\n    SearchPageModule,\r\n    MembersPageModule,\r\n  ],\r\n  declarations: [JoinClassesPage],\r\n})\r\nexport class JoinClassesPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2pvaW4tY2xhc3Nlcy9qb2luLWNsYXNzZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../shared/services/zr-services.service\";\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { MylocalstorageService } from 'src/app/shared/services/mylocalstorage.service';\r\nimport { EventService } from 'src/app/shared/services/event.service';\r\nimport { ToastServiceProvider } from \"../../shared/services/toast-service.service\";\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\n\r\n@Component({\r\n  selector: 'app-join-classes',\r\n  templateUrl: './join-classes.page.html',\r\n  styleUrls: ['./join-classes.page.scss'],\r\n})\r\nexport class JoinClassesPage extends BaseUI implements OnInit {\r\n\r\n\r\n  userId:any = ''\r\n\r\n  courseId:any\r\n  role:any  // 身份\r\n  reload:false\r\n\r\n\r\n  courses:any[];\r\n  courses_length = 0\r\n\r\n\r\n  constructor(private zrServices: ZrServicesService,\r\n    public router:Router,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private localStorageService: MylocalstorageService,\r\n    public eventService:EventService,\r\n    public toastService:ToastServiceProvider,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n    }\r\n    \r\n\r\n  ngOnInit() {\r\n    // this.userId=this.localStorageService.get('uid','')\r\n    // this.loadCourseData()\r\n    \r\n  }\r\n  ionViewWillEnter() {\r\n    this.userId=this.localStorageService.get('uid','')\r\n    this.loadCourseData(null)\r\n    this.eventService.event.on('classupdate', () => {\r\n      this.loadCourseData(null);\r\n    })\r\n  }\r\n\r\n\r\n  loadCourseData(event){\r\n    this.zrServices.getCourseById(this.userId).then((result:any) => {\r\n      // console.log('根据用户号，获取该用户已加入的课程列表', result);\r\n      if (result.code =='200') {\r\n        this.courses = result.data\r\n        this.courses_length = this.courses.length\r\n      }else{\r\n        this.toastService.errorToast(result.msg)\r\n      }\r\n    }).catch(async (error)=>{\r\n      this.toastService.errorToast('请求课程列表出现错误：')\r\n    }).finally(() => {\r\n      if (event != null) { //如果不是第一次调用，则需要通知refresher控件结束工作\r\n        event.target.complete();\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  brscanner(){\r\n\r\n    this.barcodeScanner.scan().then(barcodeData => {\r\n      this.courseId=barcodeData['text']\r\n      // console.log(this.courseId)\r\n      // alert(JSON.stringify(barcodeData));\r\n      this.router.navigate(['/tabs/join-classes/join'], {queryParams: {cId: this.courseId\r\n      }});\r\n   }).catch(err => {\r\n       this.toastService.errorAlert(err)\r\n   });\r\n    \r\n  }\r\n  \r\n    \r\n}\r\n"],"sourceRoot":"webpack:///"}