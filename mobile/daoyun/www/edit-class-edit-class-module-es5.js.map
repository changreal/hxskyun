{"version":3,"sources":["src/app/pages/create-classes/class-detail/edit-class/edit-class.page.html","src/app/pages/create-classes/class-detail/edit-class/edit-class-routing.module.ts","src/app/pages/create-classes/class-detail/edit-class/edit-class.module.ts","src/app/pages/create-classes/class-detail/edit-class/edit-class.page.scss","src/app/pages/create-classes/class-detail/edit-class/edit-class.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/tabs/create-classes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>编辑课程信息</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding-horizontal\\\">\\r\\n\\r\\n    \\r\\n  <form (ngSubmit)='doSubmit(formData)'  #formData=\\\"ngForm\\\"  validating >\\r\\n\\r\\n    <ion-list lines='full'>\\r\\n\\r\\n      <ion-item-divider>\\r\\n        <ion-label color=\\\"medium\\\" >设置班课信息</ion-label>\\r\\n      </ion-item-divider>\\r\\n\\r\\n\\r\\n      <!-- 内容部分 -->\\r\\n      <ion-item>\\r\\n        <ion-label>学期</ion-label>\\r\\n        <ion-select  name='semester' [(ngModel)]=\\\"course_semester\\\" #semester='ngModel' required placeholder='请选择学期' >\\r\\n          <ion-select-option *ngFor=\\\"let s of semesters\\\" [value]=\\\"s.name\\\" >{{s.name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"(semester.invalid && semester.touched) || submited\\\" [hidden]=\\\"!semester.errors?.required\\\">\\r\\n        <ion-text  color=\\\"danger\\\" >\\r\\n          <p class=\\\"tips ion-padding-start\\\" >\\r\\n            请选择学期\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label >课程</ion-label>\\r\\n        <!-- #courseName=\\\"ngModel\\\"的方式是来获取ngModel对象， ngModel对象有.errors的属性来获取验证规则 -->\\r\\n        <ion-input name='courseName'  #courseName=\\\"ngModel\\\" placeholder=\\\"请输入课程（如工程实践）\\\" required maxlength='20' [(ngModel)]=\\\"course_name\\\"></ion-input>\\r\\n        <ion-text color=\\\"danger\\\" *ngIf=\\\"(courseName.invalid && courseName.touched) || submited\\\">\\r\\n          <p class=\\\"tips ion-padding-start\\\" [hidden]=\\\"!courseName.errors?.required\\\">\\r\\n            请输入课程名称\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n      \\r\\n      <!-- <ion-item >\\r\\n        <ion-label >学校</ion-label>\\r\\n        <ion-input name='school' #school='ngModel' placeholder=\\\"请输入学校（如福州大学）\\\" maxlength='20' required \\r\\n        [(ngModel)]=\\\"course_school\\\" ></ion-input>\\r\\n        <ion-text color=\\\"danger\\\" *ngIf=\\\"(school.invalid && school.touched) || submited\\\">\\r\\n          <p class=\\\"tips ion-padding-start\\\" [hidden]=\\\"!school.errors?.required\\\">\\r\\n            请输入学校名称\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item> -->\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label>学校</ion-label>\\r\\n        <ion-select  name='school' [(ngModel)]=\\\"course_school\\\" #school='ngModel' required placeholder='请选择学校' >\\r\\n          <ion-select-option *ngFor=\\\"let s of schools\\\" [value]=\\\"s.name\\\" >{{s.name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"(school.invalid && school.touched) || submited\\\" [hidden]=\\\"!school.errors?.required\\\">\\r\\n        <ion-text  color=\\\"danger\\\" >\\r\\n          <p class=\\\"tips ion-padding-start\\\" >\\r\\n            请选择学校\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n\\r\\n      <!-- <ion-item >\\r\\n        <ion-label >院系</ion-label>\\r\\n        <ion-input name='department' #department='ngModel' placeholder=\\\"请输入院系（如数计学院）\\\" maxlength='20' required \\r\\n        [(ngModel)]=\\\"course_department\\\" ></ion-input>\\r\\n        <ion-text color=\\\"danger\\\" *ngIf=\\\"(department.invalid && department.touched) || submited\\\">\\r\\n          <p class=\\\"tips ion-padding-start\\\" [hidden]=\\\"!department.errors?.required\\\">\\r\\n            请输入院系名称\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item> -->\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label>学院</ion-label>\\r\\n        <ion-select  name='department' [(ngModel)]=\\\"course_department\\\" #department='ngModel' required placeholder='请选择学院' >\\r\\n          <ion-select-option *ngFor=\\\"let s of departments\\\" [value]=\\\"s.name\\\" >{{s.name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"(department.invalid && department.touched) || submited\\\" [hidden]=\\\"!department.errors?.required\\\">\\r\\n        <ion-text  color=\\\"danger\\\" >\\r\\n          <p class=\\\"tips ion-padding-start\\\" >\\r\\n            请选择学院\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label>班级</ion-label>\\r\\n        <ion-input name='major' #major='ngModel' placeholder=\\\"请输入班级（如2019级计算机工硕）\\\" maxlength='20' required \\r\\n        [(ngModel)]=\\\"course_major\\\" ></ion-input>\\r\\n        <ion-text color=\\\"danger\\\" *ngIf=\\\"(major.invalid && major.touched) || submited\\\">\\r\\n          <p class=\\\"tips ion-padding-start\\\" [hidden]=\\\"!major.errors?.required\\\">\\r\\n            请输入班级名称\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n\\r\\n\\r\\n      <!-- <ion-item>\\r\\n        <ion-label>班课状态</ion-label>\\r\\n        <ion-select  name='status' [(ngModel)]=\\\"course_status\\\" #status='ngModel' required placeholder='请选择班课状态' >\\r\\n          <ion-select-option *ngFor=\\\"let s of courseStatus\\\" [value]=\\\"s.name\\\" >{{s.name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"(status.invalid && status.touched) || submited\\\" [hidden]=\\\"!status.errors?.required\\\">\\r\\n        <ion-text  color=\\\"danger\\\" >\\r\\n          <p class=\\\"tips ion-padding-start\\\" >\\r\\n            请选择班课状态\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item> -->\\r\\n\\r\\n      \\r\\n      \\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">学习要求</ion-label>\\r\\n        <ion-textarea name='courseDes' #courseDes='ngModel' placeholder=\\\"输入学习要求（不超过100字）\\\" rows=\\\"2\\\" maxlength='100'  [(ngModel)]=\\\"course_des\\\" class=\\\"ion-text-wrap\\\"></ion-textarea>\\r\\n      </ion-item>\\r\\n      \\r\\n\\r\\n\\r\\n    </ion-list>\\r\\n\\r\\n  <ion-button  type='submit' expand=\\\"block\\\" fill=\\\"outline\\\" shape=\\\"round\\\" >\\r\\n    修改班课\\r\\n  </ion-button>\\r\\n</form>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EditClassPage } from './edit-class.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditClassPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EditClassPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditClassPageRoutingModule } from './edit-class-routing.module';\r\n\r\nimport { EditClassPage } from './edit-class.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EditClassPageRoutingModule\r\n  ],\r\n  declarations: [EditClassPage]\r\n})\r\nexport class EditClassPageModule {}\r\n","export default \".create-class-avatar {\\n  margin: 0 auto;\\n  border: 1px solid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWNsYXNzZXMvY2xhc3MtZGV0YWlsL2VkaXQtY2xhc3MvRDpcXGh4c2t5dW5cXG1vYmlsZVxcZGFveXVuL3NyY1xcYXBwXFxwYWdlc1xcY3JlYXRlLWNsYXNzZXNcXGNsYXNzLWRldGFpbFxcZWRpdC1jbGFzc1xcZWRpdC1jbGFzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL2NsYXNzLWRldGFpbC9lZGl0LWNsYXNzL2VkaXQtY2xhc3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jcmVhdGUtY2xhc3Nlcy9jbGFzcy1kZXRhaWwvZWRpdC1jbGFzcy9lZGl0LWNsYXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jcmVhdGUtY2xhc3MtYXZhdGFye1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxufSIsIi5jcmVhdGUtY2xhc3MtYXZhdGFyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../../shared/services/local-storage.service\";\r\nimport { ToastServiceProvider } from \"../../../../shared/services/toast-service.service\";\r\nimport { NgForm } from '@angular/forms';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-edit-class',\r\n  templateUrl: './edit-class.page.html',\r\n  styleUrls: ['./edit-class.page.scss'],\r\n})\r\nexport class EditClassPage extends BaseUI implements OnInit {\r\n\r\n  submited:boolean = false\r\n  semesters:any[]= []\r\n  schools:any[] = []\r\n  departments:any[] = []\r\n  loadFinished:boolean = false;\r\n\r\n  // semesters:any[]=[ //学期\r\n  //   {id:'1', name:'2019-2020-1'},\r\n  //   {id:'2', name:'2019-2020-2'},\r\n  //   {id:'3', name:'2020-2021-1'},\r\n  //   {id:'4', name:'2020-2021-2'},\r\n  //   {id:'5', name:'2021-2022-1'},\r\n  // ]\r\n\r\n  // courseStatus:any[]=[ //学期\r\n  //   {id:'1', name:'未开始'},\r\n  //   {id:'2', name:'进行中'},\r\n  //   {id:'3', name:'已结课'},\r\n  // ]\r\n  userId=''\r\n  course_name=''\r\n  course_school=''            //学校\r\n  course_semester=''        //学期\r\n  course_major=''             //专业（班级）\r\n  course_courseName=''         //课程名\r\n  course_des=''          //学习要求\r\n  course_department=''        //学校院系\r\n  course_teacherName=''\r\n  course_status = ''\r\n\r\n  courseId = ''\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    private toastService: ToastServiceProvider,\r\n    private router: Router,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n\r\n    }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',1000)\r\n\r\n    this.userId = this.localStorageService.getStore('uid', '2')\r\n    // 传入课程编号，从而编辑该门课程\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      console.log(result);\r\n      this.courseId = result.courseId;\r\n    });\r\n    this.getCourseInfo()\r\n    this.loadBasicInfo()\r\n  }\r\n\r\n  // 获取学期、学校、学院\r\n  loadBasicInfo(){\r\n    // 获取学期\r\n    this.zrServices.getSemester().then((result:any) => {\r\n      for(let r of result.data){\r\n        let item = {\r\n          id:r.dictId,\r\n          name:r.itemValue\r\n        }\r\n        this.semesters.push(item)\r\n      }\r\n    })\r\n\r\n    // 获取学校\r\n    this.zrServices.getSchool().then((result:any) => {\r\n      for(let r of result.data){\r\n        let item = {\r\n          id:r.dictId,\r\n          name:r.itemValue\r\n        }\r\n        this.schools.push(item)\r\n      }\r\n    })\r\n    // 获取学院\r\n    this.zrServices.getDepartment().then((result:any) => {\r\n      for(let r of result.data){\r\n        let item = {\r\n          id:r.dictId,\r\n          name:r.itemValue\r\n        }\r\n        this.departments.push(item)\r\n      }\r\n    })\r\n\r\n  }\r\n  \r\n  // 查询班课信息\r\n  getCourseInfo(){\r\n    // 根据id获取该班课的信息\r\n    this.zrServices.getCourseByCourseId(this.courseId).then(async (result:any) => {\r\n      console.log(result);\r\n      \r\n      if(result.code == '200'){\r\n        this.course_name = result.data.courseName\r\n        this.course_school = result.data.school\r\n        this.course_semester = result.data.courseSemester\r\n        this.course_major = result.data.major\r\n        this.course_department = result.data.department\r\n        this.course_des = result.data.classDes\r\n        this.course_teacherName = result.data.teacherName\r\n        this.course_status = result.data.endClassStatus\r\n\r\n      }\r\n    }).catch((error) => {\r\n      console.log('查找班课信息失败', error);\r\n    })\r\n  }\r\n\r\n\r\n\r\n  // 提交表单操作\r\n  doSubmit(form:NgForm){\r\n    this.submited = true //表单提交\r\n    if(form.valid){\r\n      this.onCourseSave()\r\n    }\r\n  }\r\n\r\n  // 保存表单项\r\n  onCourseSave(){\r\n    let theCourseInfo:any = {} // 新建课程信息\r\n\r\n    theCourseInfo = {\r\n      'teachId' : this.userId,\r\n      'courseId' : this.courseId,\r\n      'courseSemester' : this.course_semester,\r\n      'major' : this.course_major,\r\n      'courseName' : this.course_name,\r\n      'classDes' : this.course_des,\r\n      'school' : this.course_school,\r\n      'department' : this.course_department,\r\n      'endClassStatus' : this.course_status\r\n    }\r\n    \r\n    // theCourseInfo['teachId'] = this.userId\r\n    // theCourseInfo['courseId'] = this.courseId\r\n    // theCourseInfo['courseSemester'] = this.course_semester\r\n    // theCourseInfo['major'] = this.course_major\r\n    // theCourseInfo['courseName'] = this.course_name\r\n    // theCourseInfo['classDes'] = this.course_des\r\n    // theCourseInfo['school'] = this.course_school\r\n    // theCourseInfo['department'] = this.course_department\r\n    // theCourseInfo['endClassStatus'] = this.course_status\r\n\r\n\r\n    super.showLoading( this.loadingController,'请等待',2000)\r\n    \r\n    // 提交到service更新\r\n    this.zrServices.postEidtCourseByCourseId(theCourseInfo).then(async(result:any) => {\r\n      console.log('添加课程的返回信息', result);\r\n      \r\n      // 请求返回状态\r\n      if(result.code == '200'){\r\n        // 跳出提示框提示修改成功！\r\n        // let url = '/tabs/create-classes/class-detail?courseId=' + this.courseId\r\n        let url = '/tabs/create-classes/class-detail'\r\n        let params = {\r\n          courseId : this.courseId,\r\n          courseName:this.course_courseName\r\n        }\r\n\r\n        this.toastService.presentAlertConfirm('修改班课成功！', url, params)  //回调函数跳转\r\n        // this.toastService.presentAlertConfirm('修改班课成功！', url)  //回调函数跳转\r\n      }else{\r\n        console.log(result.msg);\r\n      }\r\n      \r\n    }).catch((error) => {\r\n      console.log('修改课程失败', error);\r\n      \r\n    })\r\n    \r\n  }\r\n  \r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"edit-class-edit-class-module-es5.js"}