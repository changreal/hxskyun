{"version":3,"sources":["src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.html","src/app/pages/join-classes/sign-in/sign-in.page.html","src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in-routing.module.ts","src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.module.ts","src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.scss","src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.ts","src/app/pages/join-classes/sign-in/sign-in-routing.module.ts","src/app/pages/join-classes/sign-in/sign-in.module.ts","src/app/pages/join-classes/sign-in/sign-in.page.scss","src/app/pages/join-classes/sign-in/sign-in.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"onBack()\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>{{courseName}}签到</ion-title>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n  \\r\\n  <!-- 签到时间设置 -->\\r\\n  <ion-item-divider>\\r\\n    <ion-label>\\r\\n      签到时间设置\\r\\n    </ion-label>\\r\\n  </ion-item-divider>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label>签到分钟</ion-label>\\r\\n      <!-- <ion-input type=\\\"text\\\" placeholder=\\\"3\\\" value=\\\"3\\\"></ion-input> -->\\r\\n      <ion-input type='number' clearInput  [(ngModel)]=\\\"duration\\\"  name='duration' placeholder='请输入分钟数' required></ion-input>\\r\\n    </ion-item>\\r\\n    \\r\\n\\r\\n  <!-- 签到区域 -->\\r\\n  <ion-item-divider>\\r\\n    <ion-label>\\r\\n      {{courseName}}签到情况\\r\\n    </ion-label>\\r\\n  </ion-item-divider>\\r\\n  <ion-item>\\r\\n    <!-- <ion-toolbar>\\r\\n      <ion-title class=\\\"ion-text-center\\\"><span>16</span>/<span>48</span></ion-title>\\r\\n    </ion-toolbar> -->\\r\\n\\r\\n    <!-- <ion-label>Awesome Label</ion-label> -->\\r\\n    <ion-text >\\r\\n      <h5 style=\\\"color: darkslateblue;\\\">\\r\\n        每5秒更新一次\\r\\n      </h5>\\r\\n      <p>已签到：<span >{{signCount}}</span>人</p>\\r\\n      <p>总人数：<span>{{courseMembersCount}}</span>&nbsp;人</p>\\r\\n    </ion-text>\\r\\n    \\r\\n  </ion-item>\\r\\n\\r\\n  <!-- 局部刷新，不一定用哈 -->\\r\\n  <!-- <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\" mode='ios' [hidden]=\\\"isStrat\\\">\\r\\n    <ion-fab-button color=\\\"warning\\\" (click)=\\\"doRefresh()\\\">\\r\\n      <ion-icon name=\\\"refresh-outline\\\">点击刷新</ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab> -->\\r\\n\\r\\n\\r\\n  \\r\\n\\r\\n  \\r\\n  \\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n\\r\\n  <ion-toolbar  class=\\\"ion-margin-vertical\\\">\\r\\n\\r\\n      <ion-button  #cancelButton (click)=\\\"doCancelSignIn()\\\" [disabled]=\\\"!isStart\\\" fill='outline' size='large' shape='round' color=\\\"dark\\\" class=\\\"ion-padding-start\\\">\\r\\n        <ion-label>放弃</ion-label>\\r\\n      </ion-button>\\r\\n  \\r\\n      <ion-button #startButton (click)=\\\"doSignIn()\\\"  [disabled]=\\\"isStart\\\" fill='outline' size='large' shape='round' color=\\\"primary\\\" class=\\\"ion-margin-start ion-padding-start\\\">\\r\\n        <ion-label>开始</ion-label>\\r\\n      </ion-button>\\r\\n      \\r\\n  \\r\\n      <ion-button #finishButton (click)=\\\"doEndSignIn()\\\" [disabled]=\\\"!isStart\\\"  fill='outline' size='large' slot=\\\"end\\\" shape='round' color=\\\"danger\\\" class=\\\"ion-padding-start ion-margin-end\\\" >\\r\\n        <ion-label>结束</ion-label>\\r\\n      </ion-button>\\r\\n    \\r\\n\\r\\n      \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\\r\\n\"","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/tabs/join-classes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{courseName}}签到</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-item lines='none'  class=\\\"ion-margin\\\" button (click)=\\\"doSignIn()\\\" [disabled]=\\\"hasSigned\\\">\\r\\n      <ion-label class=\\\"ion-padding-vertical\\\"  color=\\\"primary\\\">\\r\\n        <!-- <ion-button  expand=\\\"block\\\" fill=\\\"clear\\\" size='large' shape=\\\"round\\\"> -->\\r\\n          <ion-avatar class=\\\"ion-padding-vertical sign-in-avatar ion-text-center\\\"   >\\r\\n            <ion-icon name=\\\"checkbox-outline\\\" size='large'></ion-icon>\\r\\n            <h5>签到</h5>\\r\\n          </ion-avatar>\\r\\n        <!-- </ion-button> -->\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    \\r\\n  <!-- 签到列表 -->\\r\\n  <ion-list lines='full'>\\r\\n\\r\\n    <!-- 列表头 -->\\r\\n    <ion-list-header lines='full' class=\\\"ion-padding-horizontal\\\">\\r\\n      <ion-label>{{courseName}}历史签到记录</ion-label>\\r\\n      <ion-label class=\\\"ion-text-right\\\" color=\\\"primary\\\">{{signCount}}次</ion-label>\\r\\n    </ion-list-header>\\r\\n\\r\\n    <!-- 内容部分 -->\\r\\n    <ion-item *ngFor=\\\"let item of myInfo\\\">\\r\\n      <ion-label >\\r\\n        <h4><time>{{item.endTime | date:'yyyy-MM-dd'}}</time>&nbsp;签到 </h4>\\r\\n        <p><time> {{item.endTime | date:'HH:mm:ss'}} </time> <span class=\\\"exp ion-float-right\\\">{{item.signStatus}}</span> </p>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignInPageRoutingModule\r\n  ],\r\n  declarations: [SignInPage]\r\n})\r\nexport class SignInPageModule {}\r\n","export default \".box {\\n  display: inline-flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWNsYXNzZXMvc2lnbi1pbi10ZWFjaGVyL3NpZ24taW4vRDpcXGh4c2t5dW5cXG1vYmlsZVxcZGFveXVuL3NyY1xcYXBwXFxwYWdlc1xcY3JlYXRlLWNsYXNzZXNcXHNpZ24taW4tdGVhY2hlclxcc2lnbi1pblxcc2lnbi1pbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL3NpZ24taW4tdGVhY2hlci9zaWduLWluL3NpZ24taW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL3NpZ24taW4tdGVhY2hlci9zaWduLWluL3NpZ24taW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJveHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG59XHJcbiIsIi5ib3gge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../../shared/services/local-storage.service\";\r\n// import { ToastServiceProvider } from \"../../../../shared/services/toast-service.service\";\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController,} from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\nimport { NgForm } from '@angular/forms';\r\ndeclare var BMap;\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.page.html',\r\n  styleUrls: ['./sign-in.page.scss'],\r\n})\r\nexport class SignInPage extends BaseUI implements OnInit {\r\n\r\n  // @ViewChild('startButton', {static:true}) startButton:any\r\n  // @ViewChild('cancelButton', {static:true}) cancelButton:any\r\n  // @ViewChild('finishButton', {static:true}) finishButton:any\r\n  // @ViewChild('signCountShow', {static:true}) signCountShow:any\r\n\r\n  signId = ''\r\n  courseId = ''\r\n  courseName=''\r\n  userId = ''\r\n  course\r\n  courseMembersCount=''\r\n  signCount:string = ''\r\n  coordinate:any = {\r\n    latitude : '1',\r\n    longitude : '1'\r\n  }\r\n\r\n  // flag\r\n  isStart:boolean = false\r\n  isEnd:boolean = false\r\n  timer:any\r\n\r\n\r\n  // 表单对象\r\n  duration:number=3\r\n  signInfo:any = {\r\n    courseId:this.courseId,\r\n  }\r\n\r\n\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    // private toastService: ToastServiceProvider,\r\n    public alertController:AlertController,\r\n    public toastController:ToastController,\r\n    private router: Router,\r\n    public loadingController: LoadingController) { \r\n      super() \r\n  }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',300)\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      // console.log('传入的参数：', result);\r\n      this.courseId = result.courseId;\r\n      this.courseName = result.courseName\r\n      this.courseMembersCount = result.courseMembersCount\r\n    })\r\n\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n    if (this.timer) {\r\n      console.log('clear timer');\r\n      clearInterval(this.timer);\r\n    } \r\n  }\r\n\r\n\r\n  // 获取地址\r\n  getLocation() {\r\n    let geolocation = new BMap.Geolocation(); //新建地图对象\r\n    \r\n    return new Promise((reslove, reject) => {\r\n      geolocation.getCurrentPosition(function (r) {\r\n        \r\n\r\n        if (this.getStatus() == 0) {\r\n          // console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n          reslove(r.point);\r\n        }\r\n        else {\r\n          // console.log('获取位置失败:', this.getStatus());\r\n          reject(this.getStatus());\r\n          alert('获取位置失败'+this.getStatus())\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n\r\n  // 拆分了一下开始签到事件（获取地址）\r\n  doSignIn(){\r\n\r\n    // 获取签到信息\r\n    this.getLocation().then((result:any) => {\r\n\r\n      this.coordinate.latitude = result.lat\r\n      this.coordinate.longitude = result.lng\r\n      // console.log('新的coordinate内容为：', this.coordinate);\r\n      \r\n      this.doStartSignIn()\r\n      \r\n    }).catch((error) => {\r\n      console.log('显示错误');\r\n      \r\n    })\r\n  }\r\n\r\n  // 开始签到交互\r\n  async doStartSignIn(){\r\n\r\n    // 提示框确认是否开始？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否开始签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n\r\n            // 发送签到请求\r\n            this.zrServices.createSignIn(this.courseId, this.coordinate.longitude, this.coordinate.latitude, this.duration).then((result:any) => {\r\n              // console.log(result);\r\n\r\n              if(result.code == '200'){\r\n        \r\n                this.isStart = true // 是否开始签到\r\n                this.signId = result.data.signId // 接受返回的signid\r\n\r\n                \r\n                // console.log('当前签到id为：', this.signId);\r\n                this.localStorageService.setStore('signId', this.signId) //保存到缓存里\r\n                this.presentToast('开始计时！','success')\r\n\r\n                \r\n                // 刷新签到情况\r\n                this.doRefresh()\r\n        \r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n              \r\n            }).catch((error) => {\r\n              this.presentToast(error.message,'danger')\r\n            })\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n\r\n  }\r\n\r\n  // 刷新签到人数信息\r\n  doRefresh(){\r\n\r\n    this.timer = setInterval(()=>{\r\n      this.loadCurrentSignInfo()\r\n      console.log('自动刷新了');\r\n    },5000)  // 每两秒查询一次\r\n\r\n  }\r\n\r\n  // 查询签到信息\r\n  loadCurrentSignInfo(){\r\n    // 获取当前签到信息\r\n    this.zrServices.getCurrentSignBySignId(this.signId).then((result:any) => {\r\n      // console.log('查询到签到信息为：', result);\r\n      \r\n      // 更新签到人头\r\n      this.signCount = result.data[0].signedNumbers\r\n      // this.signCountShow.nativeElement.value = result.data.signNumbers\r\n      \r\n      // 查询到已经是结束状态了\r\n      if(result.data[0].endTimestamp < result.data[0].nowTimeStamp ){\r\n\r\n        // console.log('时间超过计时时间！');\r\n        \r\n        // 结束\r\n        this.isEnd = true\r\n        this.isStart = false;\r\n\r\n        // 结束timer\r\n        if (this.timer) {\r\n          clearInterval(this.timer);\r\n        }\r\n\r\n        // 提示\r\n        this.presentToast('签到时间到，签到结束！')\r\n        // 跳转回前一页\r\n        this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n      }\r\n\r\n    }).catch((error) => {\r\n      console.log('刷新签到情况错误');\r\n    })\r\n  }\r\n  \r\n\r\n  // 放弃签到\r\n  async doCancelSignIn(){\r\n\r\n    // 提示框确认是否放弃签到？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否放弃签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n\r\n            // 发送取消签到请求\r\n            this.zrServices.cancelSignIn(this.signId).then((result:any) => {\r\n\r\n              if(result.code == '200'){\r\n                \r\n                // 放弃逻辑\r\n                this.isStart = false\r\n                // 提示\r\n                this.presentToast('放弃签到！','warning')\r\n                // 跳转回前一页\r\n                this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n\r\n            }).catch((error) => {\r\n              this.presentToast(error.message,'danger')\r\n              \r\n              // 然后跳转\r\n              this.isStart = false;\r\n              this.onBack()\r\n            })\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    // *******提示框组件结束**********\r\n\r\n    await alert.present();\r\n    \r\n  }\r\n\r\n  // 结束签到\r\n  async doEndSignIn(){\r\n\r\n    // 提示框确认是否放弃签到？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否结束签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          \r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n            // 发送结束签到请求\r\n            this.zrServices.endSignIn(this.signId).then((result:any) => {\r\n\r\n              if(result.code == '200'){\r\n                // 结束逻辑\r\n                this.isEnd = true\r\n                this.isStart = false\r\n                // 提示\r\n                this.presentToast('结束签到成功！')\r\n                // 跳转回前一页\r\n                this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n\r\n            }).catch((error) => {\r\n              // console.log('结束签到页错误');\r\n              this.presentToast(error.message,'danger')\r\n              // 已经结束过了， 那错误逻辑在这里\r\n\r\n              // 然后跳转\r\n              // this.isStart = false;\r\n              // this.onBack()\r\n            })\r\n            \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    // *******提示框组件结束**********\r\n    await alert.present();\r\n\r\n  }\r\n\r\n  // 跳转回签到页面\r\n  onBackTo(url){\r\n    this.router.navigate([url], {\r\n      queryParams:{\r\n        courseId : this.courseId,\r\n        courseMembersCount : this.courseMembersCount\r\n      }\r\n    } )\r\n  }\r\n\r\n  // 跳出toast提示\r\n  async presentToast(message:any, color:any='success') {\r\n    let toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000,\r\n      position: 'bottom',\r\n      animated: true,\r\n      mode: 'ios',\r\n      color: color,\r\n      buttons: ['关闭']\r\n    });\r\n\r\n    toast.present();//出发消息提示框\r\n  }\r\n\r\n  // 导航点击返回跳转\r\n  onBack(){\r\n    \r\n    if(this.isStart){\r\n      // 开始了\r\n      // console.log('A type');\r\n      \r\n      this.doCancelSignIn()\r\n    }else{\r\n      // 还没开始\r\n      // console.log('B type');\r\n      \r\n      this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInPage\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignInPageRoutingModule\r\n  ],\r\n  declarations: [SignInPage]\r\n})\r\nexport class SignInPageModule {}\r\n","export default \".sign-in-img {\\n  width: 7em;\\n  margin: 0 auto;\\n}\\n\\n.sign-in-avatar {\\n  display: block;\\n  margin: 0 auto;\\n  width: 5em;\\n  height: 5em;\\n  color: white;\\n  background-color: #3880ff;\\n  box-shadow: 2px 3px 5px #888888;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvam9pbi1jbGFzc2VzL3NpZ24taW4vRDpcXGh4c2t5dW5cXG1vYmlsZVxcZGFveXVuL3NyY1xcYXBwXFxwYWdlc1xcam9pbi1jbGFzc2VzXFxzaWduLWluXFxzaWduLWluLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvam9pbi1jbGFzc2VzL3NpZ24taW4vc2lnbi1pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLCtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9qb2luLWNsYXNzZXMvc2lnbi1pbi9zaWduLWluLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWduLWluLWltZ3tcclxuICAgIHdpZHRoOiA3ZW07XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnNpZ24taW4tYXZhdGFye1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHdpZHRoOiA1ZW07XHJcbiAgICBoZWlnaHQ6IDVlbTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XHJcbiAgICBib3gtc2hhZG93OiAycHggM3B4IDVweCAjODg4ODg4O1xyXG5cclxufSIsIi5zaWduLWluLWltZyB7XG4gIHdpZHRoOiA3ZW07XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4uc2lnbi1pbi1hdmF0YXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHdpZHRoOiA1ZW07XG4gIGhlaWdodDogNWVtO1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XG4gIGJveC1zaGFkb3c6IDJweCAzcHggNXB4ICM4ODg4ODg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../shared/services/local-storage.service\";\r\nimport { ToastServiceProvider } from \"../../../shared/services/toast-service.service\";\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController,} from '@ionic/angular';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\n\r\ndeclare var BMap;\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.page.html',\r\n  styleUrls: ['./sign-in.page.scss'],\r\n})\r\nexport class SignInPage extends BaseUI implements OnInit {\r\n\r\n  // signId = ''\r\n  hasSigned:boolean = false\r\n  courseId = ''\r\n  userId = ''\r\n  myInfo:any[] = [];\r\n  signCount:number \r\n  courseName:''\r\n  // 位置\r\n  coordinate:any = {\r\n    latitude : '1',\r\n    longitude : '1'\r\n  }\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    private toastService: ToastServiceProvider,\r\n    public alertController:AlertController,\r\n    // public toastController:ToastController,\r\n    private router: Router,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n    }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',800)\r\n    this.userId = this.localStorageService.getStore('uid','')\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      // console.log('传入的参数：', result);\r\n      this.courseId = result.courseId;\r\n      this.courseName = result.courseName\r\n    })\r\n\r\n    this.loadCurrentSignInfo()\r\n  }\r\n\r\n  // 查询该门课程的签到信息\r\n  // 查询签到信息\r\n  loadCurrentSignInfo(){\r\n    // 获取当前签到信息\r\n    let params:object = { \r\n      \"courseId\" : this.courseId, //1\r\n      \"studentId\" : this.userId //123123123\r\n    }\r\n    this.zrServices.getMemberCourseExpInfo(params).then((result:any) => {\r\n      \r\n        this.signCount = result.data.length\r\n        for(let r of result.data){\r\n          let s = {\r\n            signId : r.signId,\r\n            endTime : r.endTime,\r\n            signStatus : r.signStatus\r\n          }\r\n          this.myInfo.push(s) // 重构每次签到列表\r\n        }      \r\n      \r\n      \r\n    }).catch((error) => {\r\n      this.toastService.errorToast('获取用户该课程的经验值失败')\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // 获取地址\r\n  getLocation() {\r\n    let geolocation = new BMap.Geolocation(); //新建地图对象\r\n    \r\n    return new Promise((reslove, reject) => {\r\n      geolocation.getCurrentPosition(function (r) {\r\n        // console.log(this.getStatus())\r\n        if (this.getStatus() == 0) {\r\n          // console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n          reslove(r.point);\r\n        }\r\n        else {\r\n          // console.log('获取位置失败:', this.getStatus());\r\n          reject(this.getStatus());\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n  doSignIn(){\r\n    // 获取签到信息\r\n    super.showLoading( this.loadingController,'请等待',1500)\r\n    this.getLocation().then((result:any) => {\r\n      \r\n      this.coordinate.latitude = result.lat\r\n      this.coordinate.longitude = result.lng\r\n\r\n      this.doAttendSignIn()\r\n      \r\n    }).catch((error) => {\r\n      this.toastService.errorToast('无法获取地理位置！')\r\n    })\r\n  }\r\n\r\n  // 签到\r\n  doAttendSignIn(){\r\n\r\n    if(this.hasSigned){\r\n      this.toastService.errorToast('已签到过！请勿重复签到！')\r\n      return ;\r\n    }\r\n\r\n    let params = {\r\n      courseId : this.courseId,\r\n      studentId : this.userId,\r\n      targetLatitude:this.coordinate.latitude,\r\n      targetLongitude: this.coordinate.longitude\r\n    }\r\n    \r\n    this.zrServices.attendSignIn(params).then((result:any) => {\r\n      // console.log(result);\r\n\r\n      if(result.code == '200'){\r\n        \r\n        // 重构数据\r\n        // this.hasSigned = true  // 标志签到\r\n        // this.signCount += 1\r\n        // let s = {\r\n        //   signId : result.data.signId,\r\n        //   endTime : result.data.signTime,\r\n        //   signStatus : result.data.signStatus\r\n        // }\r\n        // //  重构每次签到列表\r\n        // this.myInfo.push(s)\r\n\r\n        this.hasSigned = true  // 标志签到\r\n\r\n        this.toastService.generalToast('签到成功！')\r\n        this.myInfo.splice(0)\r\n        this.loadCurrentSignInfo()\r\n        // location.reload()\r\n\r\n      }else if(result.code == '400'){\r\n        this.toastService.errorToast(result.msg)\r\n      }\r\n\r\n    }).catch((error)=>{\r\n      this.toastService.errorToast('签到失败！')\r\n      console.log(error);\r\n      \r\n    })\r\n  }\r\n    // 获取地址\r\n    qrscanner6(){\r\n      let geolocation = new BMap.Geolocation(); //新建地图对象\r\n      \r\n      return new Promise((reslove, reject) => {\r\n        geolocation.getCurrentPosition(function (r) {\r\n          console.log(this.getStatus())\r\n          if (this.getStatus() == '0') {\r\n            console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n            alert('获取位置成功'+r.point.lat+r.point.lng)\r\n            reslove(r);\r\n          }\r\n          else {\r\n            console.log('获取位置失败:', this.getStatus());\r\n            reject(this.getStatus());\r\n            alert('获取位置失败'+this.getStatus())\r\n          }\r\n        },{enableHighAccuracy: true});\r\n      })\r\n\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"sign-in-sign-in-module-es5.js"}