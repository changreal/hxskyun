{"version":3,"sources":["src/app/pages/create-classes/sign-in-teacher/sign-in-teacher.page.html","src/app/pages/create-classes/sign-in-teacher/sign-in-teacher-routing.module.ts","src/app/pages/create-classes/sign-in-teacher/sign-in-teacher.module.ts","src/app/pages/create-classes/sign-in-teacher/sign-in-teacher.page.scss","src/app/pages/create-classes/sign-in-teacher/sign-in-teacher.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/tabs/create-classes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>发起签到</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n    <ion-item lines='none'  class=\\\"ion-margin\\\" button (click)=\\\"doSignIn()\\\" >\\r\\n      <ion-label class=\\\"ion-padding-vertical\\\"  color=\\\"primary\\\">\\r\\n        <ion-avatar class=\\\"ion-padding-vertical sign-in-avatar ion-text-center\\\"  >\\r\\n          <ion-icon name=\\\"checkbox-outline\\\" size='large'></ion-icon>\\r\\n          <h5>签到</h5>\\r\\n        </ion-avatar>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n    <!-- 列表头 -->\\r\\n    <ion-list-header lines='full' class=\\\"ion-padding-horizontal\\\">\\r\\n      <ion-label color=\\\"medium\\\">{{courseName}}&nbsp;历史签到记录</ion-label>\\r\\n      <ion-label class=\\\"ion-text-right\\\">考勤次数：<a class=\\\"primary\\\" >{{signCount}}</a></ion-label>\\r\\n    </ion-list-header>\\r\\n \\r\\n    \\r\\n  <!-- 签到列表 -->\\r\\n  <ion-list lines='full' *ngIf=\\\"signCount!='0'\\\">\\r\\n\\r\\n    <!-- 内容部分 -->\\r\\n    <ion-item detail button [routerLink]=\\\"['/create-classes/sign-in-teacher/sign-in-result']\\\" [queryParams]='{signId:sign.signId}'\\r\\n     *ngFor=\\\"let sign of historySignList\\\"  >\\r\\n      <ion-label >\\r\\n        <h4><time>{{sign.createDate | date:'yyyy-MM-dd'}}</time>&nbsp;签到 <span class=\\\"ion-float-right sign-in-people \\\">{{sign.signCount}}人/{{courseMembersCount}}人</span></h4>\\r\\n        <p><time>{{sign.createDate | date:'HH:mm:ss'}}</time></p>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInTeacherPage } from './sign-in-teacher.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInTeacherPage\r\n  },\r\n  {\r\n    path: 'sign-in',\r\n    loadChildren: () => import('./sign-in/sign-in.module').then( m => m.SignInPageModule)\r\n  },\r\n  {\r\n    path: 'sign-in-result',\r\n    loadChildren: () => import('./sign-in-result/sign-in-result.module').then( m => m.SignInResultPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInTeacherPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInTeacherPageRoutingModule } from './sign-in-teacher-routing.module';\r\n\r\nimport { SignInTeacherPage } from './sign-in-teacher.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignInTeacherPageRoutingModule\r\n  ],\r\n  declarations: [SignInTeacherPage]\r\n})\r\nexport class SignInTeacherPageModule {}\r\n","export default \".sign-in-img {\\n  width: 7em;\\n  margin: 0 auto;\\n}\\n\\n.sign-in-avatar {\\n  display: block;\\n  margin: 0 auto;\\n  width: 5em;\\n  height: 5em;\\n  color: white;\\n  background-color: #3880ff;\\n  box-shadow: 2px 3px 5px #888888;\\n}\\n\\n.sign-in-people {\\n  color: gray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWNsYXNzZXMvc2lnbi1pbi10ZWFjaGVyL0Q6XFxoeHNreXVuXFxtb2JpbGVcXGRhb3l1bi9zcmNcXGFwcFxccGFnZXNcXGNyZWF0ZS1jbGFzc2VzXFxzaWduLWluLXRlYWNoZXJcXHNpZ24taW4tdGVhY2hlci5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL3NpZ24taW4tdGVhY2hlci9zaWduLWluLXRlYWNoZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSwrQkFBQTtBQ0NKOztBREdBO0VBQ0ksV0FBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY3JlYXRlLWNsYXNzZXMvc2lnbi1pbi10ZWFjaGVyL3NpZ24taW4tdGVhY2hlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2lnbi1pbi1pbWd7XHJcbiAgICB3aWR0aDogN2VtO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5zaWduLWluLWF2YXRhcntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICB3aWR0aDogNWVtO1xyXG4gICAgaGVpZ2h0OiA1ZW07XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzg4MGZmO1xyXG4gICAgYm94LXNoYWRvdzogMnB4IDNweCA1cHggIzg4ODg4ODtcclxuXHJcbn1cclxuXHJcbi5zaWduLWluLXBlb3BsZXtcclxuICAgIGNvbG9yOiBncmF5O1xyXG59IiwiLnNpZ24taW4taW1nIHtcbiAgd2lkdGg6IDdlbTtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5zaWduLWluLWF2YXRhciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDVlbTtcbiAgaGVpZ2h0OiA1ZW07XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM4ODBmZjtcbiAgYm94LXNoYWRvdzogMnB4IDNweCA1cHggIzg4ODg4ODtcbn1cblxuLnNpZ24taW4tcGVvcGxlIHtcbiAgY29sb3I6IGdyYXk7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../shared/services/local-storage.service\";\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-in-teacher',\r\n  templateUrl: './sign-in-teacher.page.html',\r\n  styleUrls: ['./sign-in-teacher.page.scss'],\r\n})\r\nexport class SignInTeacherPage extends BaseUI implements OnInit {\r\n\r\n  courseMembersCount = ''\r\n  signCount = ''\r\n  \r\n  // 发起签到所需变量\r\n  courseId = ''\r\n  courseName=''\r\n\r\n\r\n  // 签到列表\r\n  historySignList:any[] = [\r\n  ]\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    private router: Router,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n    }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',800)\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      // console.log('传入的参数：', result);\r\n      this.courseId = result.courseId;\r\n      this.courseName = result.courseName\r\n      this.courseMembersCount = result.courseMembersCount\r\n    })\r\n    this.loadHistorySignList()\r\n\r\n  }\r\n\r\n\r\n  // 获取历史签到记录列表\r\n  loadHistorySignList(){\r\n    this.zrServices.getSignByCourseId(this.courseId).then(async (result:any) => {\r\n      // console.log('here',result);\r\n      if(result.code == '200'){\r\n        this.signCount = result.data.length\r\n\r\n        for(let r of result.data){\r\n          let s = {\r\n            signId : r.signId,\r\n            createDate : r.endTime,\r\n            courseMembersCount: this.courseMembersCount,\r\n            signCount : r.signedNumbers\r\n          }\r\n          this.historySignList.push(s)  // 重构每次签到列表\r\n        }\r\n      }\r\n    }).catch((error) => {\r\n      console.log('获取签到列表失败');\r\n    })\r\n  }\r\n\r\n  // 点击签到出发\r\n  doSignIn(){\r\n    let url = '/create-classes/sign-in-teacher/sign-in/'\r\n    this.router.navigate([url],{\r\n      queryParams:{\r\n        courseId:this.courseId,\r\n        courseName:this.courseName,\r\n        courseMembersCount:this.courseMembersCount\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"sign-in-teacher-sign-in-teacher-module-es5.js"}