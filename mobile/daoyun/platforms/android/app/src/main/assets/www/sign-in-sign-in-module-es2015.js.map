{"version":3,"sources":["./src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.html","./src/app/pages/join-classes/sign-in/sign-in.page.html","./src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in-routing.module.ts","./src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.module.ts","./src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.scss","./src/app/pages/create-classes/sign-in-teacher/sign-in/sign-in.page.ts","./src/app/pages/join-classes/sign-in/sign-in-routing.module.ts","./src/app/pages/join-classes/sign-in/sign-in.module.ts","./src/app/pages/join-classes/sign-in/sign-in.page.scss","./src/app/pages/join-classes/sign-in/sign-in.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,oUAAqQ,YAAY,olBAAolB,YAAY,sUAAsU,+DAA+D,WAAW,qCAAqC,oBAAoB,aAAa,oyC;;;;;;;;;;;;ACAt1C;AAAe,8PAA+L,YAAY,wzBAAwzB,YAAY,oFAAoF,WAAW,8JAA8J,kCAAkC,aAAa,gCAAgC,gCAAgC,+CAA+C,iBAAiB,qG;;;;;;;;;;;;;;;;;;;ACAj6C;AACc;AAEX;AAE5C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAU;KACtB;CACF,CAAC;AAMF,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;CAAG;AAA1B,uBAAuB;IAJnC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBK;AACM;AACF;AAEA;AAEsB;AAEvB;AAW5C,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAG;AAAnB,gBAAgB;IAT5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,+EAAuB;SACxB;QACD,YAAY,EAAE,CAAC,wDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;ACnB7B;AAAe,sEAAO,yBAAyB,GAAG,6CAA6C,mpB;;;;;;;;;;;;;;;;;;;;;;ACAlC;AACJ;AAC2B;AACI;AACxF,4FAA4F;AAC3C;AACA;AACF;AACI;AAWnD,IAAa,UAAU,GAAvB,MAAa,UAAW,SAAQ,4DAAM;IAiCpC,YAAoB,cAA8B,EACxC,UAA6B,EAC7B,mBAAwC;IAChD,8CAA8C;IACvC,eAA+B,EAC/B,eAA+B,EAC9B,MAAc,EACf,iBAAoC;QACzC,KAAK,EAAE;QARS,mBAAc,GAAd,cAAc,CAAgB;QACxC,eAAU,GAAV,UAAU,CAAmB;QAC7B,wBAAmB,GAAnB,mBAAmB,CAAqB;QAEzC,oBAAe,GAAf,eAAe,CAAgB;QAC/B,oBAAe,GAAf,eAAe,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACf,sBAAiB,GAAjB,iBAAiB,CAAmB;QAtC7C,2DAA2D;QAC3D,6DAA6D;QAC7D,6DAA6D;QAC7D,+DAA+D;QAE/D,WAAM,GAAG,EAAE;QACX,aAAQ,GAAG,EAAE;QACb,eAAU,GAAC,EAAE;QACb,WAAM,GAAG,EAAE;QAEX,uBAAkB,GAAC,EAAE;QACrB,cAAS,GAAU,EAAE;QACrB,eAAU,GAAO;YACf,QAAQ,EAAG,GAAG;YACd,SAAS,EAAG,GAAG;SAChB;QAED,OAAO;QACP,YAAO,GAAW,KAAK;QACvB,UAAK,GAAW,KAAK;QAIrB,OAAO;QACP,aAAQ,GAAQ,CAAC;QACjB,aAAQ,GAAO;YACb,QAAQ,EAAC,IAAI,CAAC,QAAQ;SACvB;IAaD,CAAC;IAED,QAAQ;QACN,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,iBAAiB,EAAC,KAAK,EAAC,GAAG,CAAC;QACpD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YACnD,iCAAiC;YACjC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU;YACnC,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB;QACrD,CAAC,CAAC;IAEJ,CAAC;IAED,gBAAgB;QACd,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;IACH,CAAC;IAGD,OAAO;IACP,WAAW;QACT,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,QAAQ;QAElD,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,WAAW,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBAGxC,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;oBACzB,oDAAoD;oBACpD,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBAClB;qBACI;oBACH,4CAA4C;oBAC5C,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;oBACzB,KAAK,CAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,EAAE,CAAC;iBACjC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAGD,oBAAoB;IACpB,QAAQ;QAEN,SAAS;QACT,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YAErC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG;YACrC,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG;YACtC,oDAAoD;YAEpD,IAAI,CAAC,aAAa,EAAE;QAEtB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEtB,CAAC,CAAC;IACJ,CAAC;IAED,SAAS;IACH,aAAa;;YAEjB,aAAa;YACb,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,SAAS;gBAClB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;qBACf,EAAE;wBACD,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAE,EAAE;4BAEX,SAAS;4BACT,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;gCAClI,uBAAuB;gCAEvB,IAAG,MAAM,CAAC,IAAI,IAAI,KAAK,EAAC;oCAEtB,IAAI,CAAC,OAAO,GAAG,IAAI,EAAC,SAAS;oCAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAC,cAAc;oCAG/C,wCAAwC;oCACxC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAC,QAAQ;oCACjE,IAAI,CAAC,YAAY,CAAC,OAAO,EAAC,SAAS,CAAC;oCAGpC,SAAS;oCACT,IAAI,CAAC,SAAS,EAAE;iCAEjB;qCAAI;oCACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,EAAC,QAAQ,CAAC;iCACrC;4BAEH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gCACjB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAC,QAAQ,CAAC;4BAC3C,CAAC,CAAC;wBACJ,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAExB,CAAC;KAAA;IAED,WAAW;IACX,SAAS;QAEP,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,GAAE,EAAE;YAC3B,IAAI,CAAC,mBAAmB,EAAE;YAC1B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,EAAC,IAAI,CAAC,EAAE,UAAU;IAErB,CAAC;IAED,SAAS;IACT,mBAAmB;QACjB,WAAW;QACX,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YACtE,oCAAoC;YAEpC,SAAS;YACT,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa;YAC7C,mEAAmE;YAEnE,cAAc;YACd,IAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE;gBAE5D,4BAA4B;gBAE5B,KAAK;gBACL,IAAI,CAAC,KAAK,GAAG,IAAI;gBACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBAErB,UAAU;gBACV,IAAI,IAAI,CAAC,KAAK,EAAE;oBACd,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3B;gBAED,KAAK;gBACL,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;gBAChC,SAAS;gBACT,IAAI,CAAC,QAAQ,CAAC,sCAAsC,CAAC;aACtD;QAEH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC1B,CAAC,CAAC;IACJ,CAAC;IAGD,OAAO;IACD,cAAc;;YAElB,eAAe;YACf,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,SAAS;gBAClB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;qBACf,EAAE;wBACD,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAE,EAAE;4BAEX,WAAW;4BACX,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;gCAE5D,IAAG,MAAM,CAAC,IAAI,IAAI,KAAK,EAAC;oCAEtB,OAAO;oCACP,IAAI,CAAC,OAAO,GAAG,KAAK;oCACpB,KAAK;oCACL,IAAI,CAAC,YAAY,CAAC,OAAO,EAAC,SAAS,CAAC;oCACpC,SAAS;oCACT,IAAI,CAAC,QAAQ,CAAC,sCAAsC,CAAC;iCACtD;qCAAI;oCACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,EAAC,QAAQ,CAAC;iCACrC;4BAEH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gCACjB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAC,QAAQ,CAAC;gCAEzC,OAAO;gCACP,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gCACrB,IAAI,CAAC,MAAM,EAAE;4BACf,CAAC,CAAC;wBAEJ,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,2BAA2B;YAE3B,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAExB,CAAC;KAAA;IAED,OAAO;IACD,WAAW;;YAEf,eAAe;YACf,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,SAAS;gBAClB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;qBAEf,EAAE;wBACD,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAE,EAAE;4BACX,WAAW;4BACX,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;gCAEzD,IAAG,MAAM,CAAC,IAAI,IAAI,KAAK,EAAC;oCACtB,OAAO;oCACP,IAAI,CAAC,KAAK,GAAG,IAAI;oCACjB,IAAI,CAAC,OAAO,GAAG,KAAK;oCACpB,KAAK;oCACL,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;oCAC5B,SAAS;oCACT,IAAI,CAAC,QAAQ,CAAC,sCAAsC,CAAC;iCACtD;qCAAI;oCACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,EAAC,QAAQ,CAAC;iCACrC;4BAEH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gCACjB,0BAA0B;gCAC1B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,EAAC,QAAQ,CAAC;gCACzC,mBAAmB;gCAEnB,OAAO;gCACP,wBAAwB;gCACxB,gBAAgB;4BAClB,CAAC,CAAC;wBAEJ,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,2BAA2B;YAC3B,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAExB,CAAC;KAAA;IAED,UAAU;IACV,QAAQ,CAAC,GAAG;QACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE;YAC1B,WAAW,EAAC;gBACV,QAAQ,EAAG,IAAI,CAAC,QAAQ;gBACxB,kBAAkB,EAAG,IAAI,CAAC,kBAAkB;aAC7C;SACF,CAAE;IACL,CAAC;IAED,YAAY;IACN,YAAY,CAAC,OAAW,EAAE,QAAU,SAAS;;YACjD,IAAI,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,IAAI;gBACd,IAAI,EAAE,KAAK;gBACX,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YAEH,KAAK,CAAC,OAAO,EAAE,CAAC,UAAS;QAC3B,CAAC;KAAA;IAED,WAAW;IACX,MAAM;QAEJ,IAAG,IAAI,CAAC,OAAO,EAAC;YACd,MAAM;YACN,yBAAyB;YAEzB,IAAI,CAAC,cAAc,EAAE;SACtB;aAAI;YACH,OAAO;YACP,yBAAyB;YAEzB,IAAI,CAAC,QAAQ,CAAC,sCAAsC,CAAC;SACtD;IACH,CAAC;CAGF;;YAnTqC,8DAAc;YAC5B,sFAAiB;YACR,0FAAmB;YAEzB,8DAAe;YACf,8DAAe;YACtB,sDAAM;YACI,gEAAiB;;AAxClC,UAAU;IALtB,+DAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,oPAAkC;;KAEnC,CAAC;2EAkCoC,8DAAc;QAC5B,sFAAiB;QACR,0FAAmB;QAEzB,8DAAe;QACf,8DAAe;QACtB,sDAAM;QACI,gEAAiB;GAxClC,UAAU,CAoVtB;AApVsB;;;;;;;;;;;;;;;;;;;;ACnBkB;AACc;AAEX;AAE5C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAU;KACtB;CACF,CAAC;AAMF,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;CAAG;AAA1B,uBAAuB;IAJnC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBK;AACM;AACF;AAEA;AAEsB;AAEvB;AAW5C,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAG;AAAnB,gBAAgB;IAT5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,+EAAuB;SACxB;QACD,YAAY,EAAE,CAAC,wDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;ACnB7B;AAAe,8EAAe,eAAe,mBAAmB,GAAG,qBAAqB,mBAAmB,mBAAmB,eAAe,gBAAgB,iBAAiB,8BAA8B,oCAAoC,GAAG,6CAA6C,+tC;;;;;;;;;;;;;;;;;;;;;;;ACA9O;AACO;AACwB;AACI;AACC;AACrC;AAEE;AACJ;AAU/C,IAAa,UAAU,GAAvB,MAAa,UAAW,SAAQ,4DAAM;IAepC,YAAoB,cAA8B,EACxC,UAA6B,EAC7B,mBAAwC,EACxC,YAAkC,EACnC,eAA+B;IACtC,0CAA0C;IAClC,MAAc,EACf,iBAAoC;QAEzC,KAAK,EAAE;QATS,mBAAc,GAAd,cAAc,CAAgB;QACxC,eAAU,GAAV,UAAU,CAAmB;QAC7B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,iBAAY,GAAZ,YAAY,CAAsB;QACnC,oBAAe,GAAf,eAAe,CAAgB;QAE9B,WAAM,GAAN,MAAM,CAAQ;QACf,sBAAiB,GAAjB,iBAAiB,CAAmB;QApB7C,cAAc;QACd,cAAS,GAAW,KAAK;QACzB,aAAQ,GAAG,EAAE;QACb,WAAM,GAAG,EAAE;QACX,WAAM,GAAS,EAAE,CAAC;QAGlB,KAAK;QACL,eAAU,GAAO;YACf,QAAQ,EAAG,GAAG;YACd,SAAS,EAAG,GAAG;SAChB;IAYC,CAAC;IAEH,QAAQ;QACN,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,iBAAiB,EAAC,KAAK,EAAC,GAAG,CAAC;QACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAC,EAAE,CAAC;QACzD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YACnD,iCAAiC;YACjC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU;QACrC,CAAC,CAAC;QAEF,IAAI,CAAC,mBAAmB,EAAE;IAC5B,CAAC;IAED,cAAc;IACd,SAAS;IACT,mBAAmB;QACjB,WAAW;QACX,IAAI,MAAM,GAAU;YAClB,UAAU,EAAG,IAAI,CAAC,QAAQ;YAC1B,WAAW,EAAG,IAAI,CAAC,MAAM,CAAC,WAAW;SACtC;QACD,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YAE/D,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM;YACnC,KAAI,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,EAAC;gBACvB,IAAI,CAAC,GAAG;oBACN,MAAM,EAAG,CAAC,CAAC,MAAM;oBACjB,OAAO,EAAG,CAAC,CAAC,OAAO;oBACnB,UAAU,EAAG,CAAC,CAAC,UAAU;iBAC1B;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,WAAW;aAChC;QAGL,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,eAAe,CAAC;QAC/C,CAAC,CAAC;IAGJ,CAAC;IAED,OAAO;IACP,WAAW;QACT,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,QAAQ;QAElD,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,WAAW,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBACxC,gCAAgC;gBAChC,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;oBACzB,oDAAoD;oBACpD,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBAClB;qBACI;oBACH,4CAA4C;oBAC5C,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;iBAC1B;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,SAAS;QACT,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,iBAAiB,EAAC,KAAK,EAAC,IAAI,CAAC;QACrD,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YAErC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG;YACrC,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG;YAEtC,IAAI,CAAC,cAAc,EAAE;QAEvB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC;QAC3C,CAAC,CAAC;IACJ,CAAC;IAED,KAAK;IACL,cAAc;QAEZ,IAAG,IAAI,CAAC,SAAS,EAAC;YAChB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC;YAC5C,OAAQ;SACT;QAED,IAAI,MAAM,GAAG;YACX,QAAQ,EAAG,IAAI,CAAC,QAAQ;YACxB,SAAS,EAAG,IAAI,CAAC,MAAM;YACvB,cAAc,EAAC,IAAI,CAAC,UAAU,CAAC,QAAQ;YACvC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS;SAC3C;QAED,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAU,EAAE,EAAE;YACvD,uBAAuB;YAEvB,IAAG,MAAM,CAAC,IAAI,IAAI,KAAK,EAAC;gBAEtB,OAAO;gBACP,iCAAiC;gBACjC,sBAAsB;gBACtB,YAAY;gBACZ,iCAAiC;gBACjC,oCAAoC;gBACpC,wCAAwC;gBACxC,IAAI;gBACJ,eAAe;gBACf,sBAAsB;gBAEtB,IAAI,CAAC,SAAS,GAAG,IAAI,EAAE,OAAO;gBAE9B,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,mBAAmB,EAAE;gBAC1B,oBAAoB;aAErB;iBAAK,IAAG,MAAM,CAAC,IAAI,IAAI,KAAK,EAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC;aACzC;QAEH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAC,EAAE;YAChB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC;YACrC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAErB,CAAC,CAAC;IACJ,CAAC;IACC,OAAO;IACP,UAAU;QACR,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,QAAQ;QAElD,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,WAAW,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBAC7B,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,GAAG,EAAE;oBAC3B,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACjD,KAAK,CAAC,QAAQ,GAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;oBACvC,OAAO,CAAC,CAAC,CAAC,CAAC;iBACZ;qBACI;oBACH,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;oBACzC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;oBACzB,KAAK,CAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,EAAE,CAAC;iBACjC;YACH,CAAC,EAAC,EAAC,kBAAkB,EAAE,IAAI,EAAC,CAAC,CAAC;QAChC,CAAC,CAAC;IAEJ,CAAC;CACJ;;YA3JqC,8DAAc;YAC5B,sFAAiB;YACR,0FAAmB;YAC1B,2FAAoB;YACnB,8DAAe;YAEtB,sDAAM;YACI,gEAAiB;;AAtBlC,UAAU;IALtB,+DAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,kOAAkC;;KAEnC,CAAC;2EAgBoC,8DAAc;QAC5B,sFAAiB;QACR,0FAAmB;QAC1B,2FAAoB;QACnB,8DAAe;QAEtB,sDAAM;QACI,gEAAiB;GAtBlC,UAAU,CA0KtB;AA1KsB","file":"sign-in-sign-in-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"onBack()\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>{{courseName}}签到</ion-title>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n  \\r\\n  <!-- 签到时间设置 -->\\r\\n  <ion-item-divider>\\r\\n    <ion-label>\\r\\n      签到时间设置\\r\\n    </ion-label>\\r\\n  </ion-item-divider>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label>签到分钟</ion-label>\\r\\n      <!-- <ion-input type=\\\"text\\\" placeholder=\\\"3\\\" value=\\\"3\\\"></ion-input> -->\\r\\n      <ion-input type='number' clearInput  [(ngModel)]=\\\"duration\\\"  name='duration' placeholder='请输入分钟数' required></ion-input>\\r\\n    </ion-item>\\r\\n    \\r\\n\\r\\n  <!-- 签到区域 -->\\r\\n  <ion-item-divider>\\r\\n    <ion-label>\\r\\n      {{courseName}}签到情况\\r\\n    </ion-label>\\r\\n  </ion-item-divider>\\r\\n  <ion-item>\\r\\n    <!-- <ion-toolbar>\\r\\n      <ion-title class=\\\"ion-text-center\\\"><span>16</span>/<span>48</span></ion-title>\\r\\n    </ion-toolbar> -->\\r\\n\\r\\n    <!-- <ion-label>Awesome Label</ion-label> -->\\r\\n    <ion-text >\\r\\n      <h5 style=\\\"color: darkslateblue;\\\">\\r\\n        每5秒更新一次\\r\\n      </h5>\\r\\n      <p>已签到：<span >{{signCount}}</span>人</p>\\r\\n      <p>总人数：<span>{{courseMembersCount}}</span>&nbsp;人</p>\\r\\n    </ion-text>\\r\\n    \\r\\n  </ion-item>\\r\\n\\r\\n  <!-- 局部刷新，不一定用哈 -->\\r\\n  <!-- <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\" mode='ios' [hidden]=\\\"isStrat\\\">\\r\\n    <ion-fab-button color=\\\"warning\\\" (click)=\\\"doRefresh()\\\">\\r\\n      <ion-icon name=\\\"refresh-outline\\\">点击刷新</ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab> -->\\r\\n\\r\\n\\r\\n  \\r\\n\\r\\n  \\r\\n  \\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n\\r\\n  <ion-toolbar  class=\\\"ion-margin-vertical\\\">\\r\\n\\r\\n      <ion-button  #cancelButton (click)=\\\"doCancelSignIn()\\\" [disabled]=\\\"!isStart\\\" fill='outline' size='large' shape='round' color=\\\"dark\\\" class=\\\"ion-padding-start\\\">\\r\\n        <ion-label>放弃</ion-label>\\r\\n      </ion-button>\\r\\n  \\r\\n      <ion-button #startButton (click)=\\\"doSignIn()\\\"  [disabled]=\\\"isStart\\\" fill='outline' size='large' shape='round' color=\\\"primary\\\" class=\\\"ion-margin-start ion-padding-start\\\">\\r\\n        <ion-label>开始</ion-label>\\r\\n      </ion-button>\\r\\n      \\r\\n  \\r\\n      <ion-button #finishButton (click)=\\\"doEndSignIn()\\\" [disabled]=\\\"!isStart\\\"  fill='outline' size='large' slot=\\\"end\\\" shape='round' color=\\\"danger\\\" class=\\\"ion-padding-start ion-margin-end\\\" >\\r\\n        <ion-label>结束</ion-label>\\r\\n      </ion-button>\\r\\n    \\r\\n\\r\\n      \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\\r\\n\"","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/tabs/join-classes\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{courseName}}签到</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-item lines='none'  class=\\\"ion-margin\\\" button (click)=\\\"doSignIn()\\\" [disabled]=\\\"hasSigned\\\">\\r\\n      <ion-label class=\\\"ion-padding-vertical\\\"  color=\\\"primary\\\">\\r\\n        <!-- <ion-button  expand=\\\"block\\\" fill=\\\"clear\\\" size='large' shape=\\\"round\\\"> -->\\r\\n          <ion-avatar class=\\\"ion-padding-vertical sign-in-avatar ion-text-center\\\"   >\\r\\n            <ion-icon name=\\\"checkbox-outline\\\" size='large'></ion-icon>\\r\\n            <h5>签到</h5>\\r\\n          </ion-avatar>\\r\\n        <!-- </ion-button> -->\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    \\r\\n  <!-- 签到列表 -->\\r\\n  <ion-list lines='full'>\\r\\n\\r\\n    <!-- 列表头 -->\\r\\n    <ion-list-header lines='full' class=\\\"ion-padding-horizontal\\\">\\r\\n      <ion-label>{{courseName}}历史签到记录</ion-label>\\r\\n      <ion-label class=\\\"ion-text-right\\\" color=\\\"primary\\\">{{signCount}}次</ion-label>\\r\\n    </ion-list-header>\\r\\n\\r\\n    <!-- 内容部分 -->\\r\\n    <ion-item *ngFor=\\\"let item of myInfo\\\">\\r\\n      <ion-label >\\r\\n        <h4><time>{{item.endTime | date:'yyyy-MM-dd'}}</time>&nbsp;签到 </h4>\\r\\n        <p><time> {{item.endTime | date:'HH:mm:ss'}} </time> <span class=\\\"exp ion-float-right\\\">{{item.signStatus}}</span> </p>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignInPageRoutingModule\r\n  ],\r\n  declarations: [SignInPage]\r\n})\r\nexport class SignInPageModule {}\r\n","export default \".box {\\n  display: inline-flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWNsYXNzZXMvc2lnbi1pbi10ZWFjaGVyL3NpZ24taW4vRDpcXGh4c2t5dW5cXG1vYmlsZVxcZGFveXVuL3NyY1xcYXBwXFxwYWdlc1xcY3JlYXRlLWNsYXNzZXNcXHNpZ24taW4tdGVhY2hlclxcc2lnbi1pblxcc2lnbi1pbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL3NpZ24taW4tdGVhY2hlci9zaWduLWluL3NpZ24taW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NyZWF0ZS1jbGFzc2VzL3NpZ24taW4tdGVhY2hlci9zaWduLWluL3NpZ24taW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJveHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG59XHJcbiIsIi5ib3gge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../../shared/services/local-storage.service\";\r\n// import { ToastServiceProvider } from \"../../../../shared/services/toast-service.service\";\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController,} from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\nimport { NgForm } from '@angular/forms';\r\ndeclare var BMap;\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.page.html',\r\n  styleUrls: ['./sign-in.page.scss'],\r\n})\r\nexport class SignInPage extends BaseUI implements OnInit {\r\n\r\n  // @ViewChild('startButton', {static:true}) startButton:any\r\n  // @ViewChild('cancelButton', {static:true}) cancelButton:any\r\n  // @ViewChild('finishButton', {static:true}) finishButton:any\r\n  // @ViewChild('signCountShow', {static:true}) signCountShow:any\r\n\r\n  signId = ''\r\n  courseId = ''\r\n  courseName=''\r\n  userId = ''\r\n  course\r\n  courseMembersCount=''\r\n  signCount:string = ''\r\n  coordinate:any = {\r\n    latitude : '1',\r\n    longitude : '1'\r\n  }\r\n\r\n  // flag\r\n  isStart:boolean = false\r\n  isEnd:boolean = false\r\n  timer:any\r\n\r\n\r\n  // 表单对象\r\n  duration:number=3\r\n  signInfo:any = {\r\n    courseId:this.courseId,\r\n  }\r\n\r\n\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    // private toastService: ToastServiceProvider,\r\n    public alertController:AlertController,\r\n    public toastController:ToastController,\r\n    private router: Router,\r\n    public loadingController: LoadingController) { \r\n      super() \r\n  }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',300)\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      // console.log('传入的参数：', result);\r\n      this.courseId = result.courseId;\r\n      this.courseName = result.courseName\r\n      this.courseMembersCount = result.courseMembersCount\r\n    })\r\n\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n    if (this.timer) {\r\n      console.log('clear timer');\r\n      clearInterval(this.timer);\r\n    } \r\n  }\r\n\r\n\r\n  // 获取地址\r\n  getLocation() {\r\n    let geolocation = new BMap.Geolocation(); //新建地图对象\r\n    \r\n    return new Promise((reslove, reject) => {\r\n      geolocation.getCurrentPosition(function (r) {\r\n        \r\n\r\n        if (this.getStatus() == 0) {\r\n          // console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n          reslove(r.point);\r\n        }\r\n        else {\r\n          // console.log('获取位置失败:', this.getStatus());\r\n          reject(this.getStatus());\r\n          alert('获取位置失败'+this.getStatus())\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n\r\n  // 拆分了一下开始签到事件（获取地址）\r\n  doSignIn(){\r\n\r\n    // 获取签到信息\r\n    this.getLocation().then((result:any) => {\r\n\r\n      this.coordinate.latitude = result.lat\r\n      this.coordinate.longitude = result.lng\r\n      // console.log('新的coordinate内容为：', this.coordinate);\r\n      \r\n      this.doStartSignIn()\r\n      \r\n    }).catch((error) => {\r\n      console.log('显示错误');\r\n      \r\n    })\r\n  }\r\n\r\n  // 开始签到交互\r\n  async doStartSignIn(){\r\n\r\n    // 提示框确认是否开始？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否开始签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n\r\n            // 发送签到请求\r\n            this.zrServices.createSignIn(this.courseId, this.coordinate.longitude, this.coordinate.latitude, this.duration).then((result:any) => {\r\n              // console.log(result);\r\n\r\n              if(result.code == '200'){\r\n        \r\n                this.isStart = true // 是否开始签到\r\n                this.signId = result.data.signId // 接受返回的signid\r\n\r\n                \r\n                // console.log('当前签到id为：', this.signId);\r\n                this.localStorageService.setStore('signId', this.signId) //保存到缓存里\r\n                this.presentToast('开始计时！','success')\r\n\r\n                \r\n                // 刷新签到情况\r\n                this.doRefresh()\r\n        \r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n              \r\n            }).catch((error) => {\r\n              this.presentToast(error.message,'danger')\r\n            })\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n\r\n  }\r\n\r\n  // 刷新签到人数信息\r\n  doRefresh(){\r\n\r\n    this.timer = setInterval(()=>{\r\n      this.loadCurrentSignInfo()\r\n      console.log('自动刷新了');\r\n    },5000)  // 每两秒查询一次\r\n\r\n  }\r\n\r\n  // 查询签到信息\r\n  loadCurrentSignInfo(){\r\n    // 获取当前签到信息\r\n    this.zrServices.getCurrentSignBySignId(this.signId).then((result:any) => {\r\n      // console.log('查询到签到信息为：', result);\r\n      \r\n      // 更新签到人头\r\n      this.signCount = result.data[0].signedNumbers\r\n      // this.signCountShow.nativeElement.value = result.data.signNumbers\r\n      \r\n      // 查询到已经是结束状态了\r\n      if(result.data[0].endTimestamp < result.data[0].nowTimeStamp ){\r\n\r\n        // console.log('时间超过计时时间！');\r\n        \r\n        // 结束\r\n        this.isEnd = true\r\n        this.isStart = false;\r\n\r\n        // 结束timer\r\n        if (this.timer) {\r\n          clearInterval(this.timer);\r\n        }\r\n\r\n        // 提示\r\n        this.presentToast('签到时间到，签到结束！')\r\n        // 跳转回前一页\r\n        this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n      }\r\n\r\n    }).catch((error) => {\r\n      console.log('刷新签到情况错误');\r\n    })\r\n  }\r\n  \r\n\r\n  // 放弃签到\r\n  async doCancelSignIn(){\r\n\r\n    // 提示框确认是否放弃签到？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否放弃签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n\r\n            // 发送取消签到请求\r\n            this.zrServices.cancelSignIn(this.signId).then((result:any) => {\r\n\r\n              if(result.code == '200'){\r\n                \r\n                // 放弃逻辑\r\n                this.isStart = false\r\n                // 提示\r\n                this.presentToast('放弃签到！','warning')\r\n                // 跳转回前一页\r\n                this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n\r\n            }).catch((error) => {\r\n              this.presentToast(error.message,'danger')\r\n              \r\n              // 然后跳转\r\n              this.isStart = false;\r\n              this.onBack()\r\n            })\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    // *******提示框组件结束**********\r\n\r\n    await alert.present();\r\n    \r\n  }\r\n\r\n  // 结束签到\r\n  async doEndSignIn(){\r\n\r\n    // 提示框确认是否放弃签到？\r\n    const alert = await this.alertController.create({\r\n      animated: true,\r\n      header: '提示',\r\n      message: '是否结束签到？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          \r\n        }, {\r\n          text: '确认',\r\n          handler: ()=>{\r\n            // 发送结束签到请求\r\n            this.zrServices.endSignIn(this.signId).then((result:any) => {\r\n\r\n              if(result.code == '200'){\r\n                // 结束逻辑\r\n                this.isEnd = true\r\n                this.isStart = false\r\n                // 提示\r\n                this.presentToast('结束签到成功！')\r\n                // 跳转回前一页\r\n                this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n              }else{\r\n              this.presentToast(result.msg,'danger')\r\n              }\r\n\r\n            }).catch((error) => {\r\n              // console.log('结束签到页错误');\r\n              this.presentToast(error.message,'danger')\r\n              // 已经结束过了， 那错误逻辑在这里\r\n\r\n              // 然后跳转\r\n              // this.isStart = false;\r\n              // this.onBack()\r\n            })\r\n            \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    // *******提示框组件结束**********\r\n    await alert.present();\r\n\r\n  }\r\n\r\n  // 跳转回签到页面\r\n  onBackTo(url){\r\n    this.router.navigate([url], {\r\n      queryParams:{\r\n        courseId : this.courseId,\r\n        courseMembersCount : this.courseMembersCount\r\n      }\r\n    } )\r\n  }\r\n\r\n  // 跳出toast提示\r\n  async presentToast(message:any, color:any='success') {\r\n    let toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000,\r\n      position: 'bottom',\r\n      animated: true,\r\n      mode: 'ios',\r\n      color: color,\r\n      buttons: ['关闭']\r\n    });\r\n\r\n    toast.present();//出发消息提示框\r\n  }\r\n\r\n  // 导航点击返回跳转\r\n  onBack(){\r\n    \r\n    if(this.isStart){\r\n      // 开始了\r\n      // console.log('A type');\r\n      \r\n      this.doCancelSignIn()\r\n    }else{\r\n      // 还没开始\r\n      // console.log('B type');\r\n      \r\n      this.onBackTo('/tabs/create-classes/sign-in-teacher')\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInPage\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SignInPageRoutingModule\r\n  ],\r\n  declarations: [SignInPage]\r\n})\r\nexport class SignInPageModule {}\r\n","export default \".sign-in-img {\\n  width: 7em;\\n  margin: 0 auto;\\n}\\n\\n.sign-in-avatar {\\n  display: block;\\n  margin: 0 auto;\\n  width: 5em;\\n  height: 5em;\\n  color: white;\\n  background-color: #3880ff;\\n  box-shadow: 2px 3px 5px #888888;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvam9pbi1jbGFzc2VzL3NpZ24taW4vRDpcXGh4c2t5dW5cXG1vYmlsZVxcZGFveXVuL3NyY1xcYXBwXFxwYWdlc1xcam9pbi1jbGFzc2VzXFxzaWduLWluXFxzaWduLWluLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvam9pbi1jbGFzc2VzL3NpZ24taW4vc2lnbi1pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLCtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9qb2luLWNsYXNzZXMvc2lnbi1pbi9zaWduLWluLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWduLWluLWltZ3tcclxuICAgIHdpZHRoOiA3ZW07XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnNpZ24taW4tYXZhdGFye1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHdpZHRoOiA1ZW07XHJcbiAgICBoZWlnaHQ6IDVlbTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XHJcbiAgICBib3gtc2hhZG93OiAycHggM3B4IDVweCAjODg4ODg4O1xyXG5cclxufSIsIi5zaWduLWluLWltZyB7XG4gIHdpZHRoOiA3ZW07XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4uc2lnbi1pbi1hdmF0YXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHdpZHRoOiA1ZW07XG4gIGhlaWdodDogNWVtO1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XG4gIGJveC1zaGFkb3c6IDJweCAzcHggNXB4ICM4ODg4ODg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../../shared/services/zr-services.service\";\r\nimport { LocalStorageService } from \"../../../shared/services/local-storage.service\";\r\nimport { ToastServiceProvider } from \"../../../shared/services/toast-service.service\";\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ToastController,} from '@ionic/angular';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\n\r\ndeclare var BMap;\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.page.html',\r\n  styleUrls: ['./sign-in.page.scss'],\r\n})\r\nexport class SignInPage extends BaseUI implements OnInit {\r\n\r\n  // signId = ''\r\n  hasSigned:boolean = false\r\n  courseId = ''\r\n  userId = ''\r\n  myInfo:any[] = [];\r\n  signCount:number \r\n  courseName:''\r\n  // 位置\r\n  coordinate:any = {\r\n    latitude : '1',\r\n    longitude : '1'\r\n  }\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private zrServices: ZrServicesService,\r\n    private localStorageService: LocalStorageService,\r\n    private toastService: ToastServiceProvider,\r\n    public alertController:AlertController,\r\n    // public toastController:ToastController,\r\n    private router: Router,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n    }\r\n\r\n  ngOnInit() {\r\n    super.showLoading( this.loadingController,'请等待',800)\r\n    this.userId = this.localStorageService.getStore('uid','')\r\n    this.activatedRoute.queryParams.subscribe((result) => {\r\n      // console.log('传入的参数：', result);\r\n      this.courseId = result.courseId;\r\n      this.courseName = result.courseName\r\n    })\r\n\r\n    this.loadCurrentSignInfo()\r\n  }\r\n\r\n  // 查询该门课程的签到信息\r\n  // 查询签到信息\r\n  loadCurrentSignInfo(){\r\n    // 获取当前签到信息\r\n    let params:object = { \r\n      \"courseId\" : this.courseId, //1\r\n      \"studentId\" : this.userId //123123123\r\n    }\r\n    this.zrServices.getMemberCourseExpInfo(params).then((result:any) => {\r\n      \r\n        this.signCount = result.data.length\r\n        for(let r of result.data){\r\n          let s = {\r\n            signId : r.signId,\r\n            endTime : r.endTime,\r\n            signStatus : r.signStatus\r\n          }\r\n          this.myInfo.push(s) // 重构每次签到列表\r\n        }      \r\n      \r\n      \r\n    }).catch((error) => {\r\n      this.toastService.errorToast('获取用户该课程的经验值失败')\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // 获取地址\r\n  getLocation() {\r\n    let geolocation = new BMap.Geolocation(); //新建地图对象\r\n    \r\n    return new Promise((reslove, reject) => {\r\n      geolocation.getCurrentPosition(function (r) {\r\n        // console.log(this.getStatus())\r\n        if (this.getStatus() == 0) {\r\n          // console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n          reslove(r.point);\r\n        }\r\n        else {\r\n          // console.log('获取位置失败:', this.getStatus());\r\n          reject(this.getStatus());\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n  doSignIn(){\r\n    // 获取签到信息\r\n    super.showLoading( this.loadingController,'请等待',1500)\r\n    this.getLocation().then((result:any) => {\r\n      \r\n      this.coordinate.latitude = result.lat\r\n      this.coordinate.longitude = result.lng\r\n\r\n      this.doAttendSignIn()\r\n      \r\n    }).catch((error) => {\r\n      this.toastService.errorToast('无法获取地理位置！')\r\n    })\r\n  }\r\n\r\n  // 签到\r\n  doAttendSignIn(){\r\n\r\n    if(this.hasSigned){\r\n      this.toastService.errorToast('已签到过！请勿重复签到！')\r\n      return ;\r\n    }\r\n\r\n    let params = {\r\n      courseId : this.courseId,\r\n      studentId : this.userId,\r\n      targetLatitude:this.coordinate.latitude,\r\n      targetLongitude: this.coordinate.longitude\r\n    }\r\n    \r\n    this.zrServices.attendSignIn(params).then((result:any) => {\r\n      // console.log(result);\r\n\r\n      if(result.code == '200'){\r\n        \r\n        // 重构数据\r\n        // this.hasSigned = true  // 标志签到\r\n        // this.signCount += 1\r\n        // let s = {\r\n        //   signId : result.data.signId,\r\n        //   endTime : result.data.signTime,\r\n        //   signStatus : result.data.signStatus\r\n        // }\r\n        // //  重构每次签到列表\r\n        // this.myInfo.push(s)\r\n\r\n        this.hasSigned = true  // 标志签到\r\n\r\n        this.toastService.generalToast('签到成功！')\r\n        this.myInfo.splice(0)\r\n        this.loadCurrentSignInfo()\r\n        // location.reload()\r\n\r\n      }else if(result.code == '400'){\r\n        this.toastService.errorToast(result.msg)\r\n      }\r\n\r\n    }).catch((error)=>{\r\n      this.toastService.errorToast('签到失败！')\r\n      console.log(error);\r\n      \r\n    })\r\n  }\r\n    // 获取地址\r\n    qrscanner6(){\r\n      let geolocation = new BMap.Geolocation(); //新建地图对象\r\n      \r\n      return new Promise((reslove, reject) => {\r\n        geolocation.getCurrentPosition(function (r) {\r\n          console.log(this.getStatus())\r\n          if (this.getStatus() == '0') {\r\n            console.log('获取位置成功：', r.point.lat, r.point.lng);\r\n            alert('获取位置成功'+r.point.lat+r.point.lng)\r\n            reslove(r);\r\n          }\r\n          else {\r\n            console.log('获取位置失败:', this.getStatus());\r\n            reject(this.getStatus());\r\n            alert('获取位置失败'+this.getStatus())\r\n          }\r\n        },{enableHighAccuracy: true});\r\n      })\r\n\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}