{"version":3,"sources":["src/app/pages/join-classes/join-classes.page.html","src/app/pages/join-classes/join-classes-routing.module.ts","src/app/pages/join-classes/join-classes.module.ts","src/app/pages/join-classes/join-classes.page.scss","src/app/pages/join-classes/join-classes.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>我加入的班课</ion-title>\\r\\n     <!-- 加入按钮 -->\\r\\n    <ion-buttons slot=\\\"end\\\" size='large'>\\r\\n      \\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <!-- 点击进入输入班课号页面 -->\\r\\n        <ion-button color=\\\"primary\\\"  [routerLink]=\\\"['/tabs/join-classes/join-class']\\\" >\\r\\n          <!-- <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\" size='large' ></ion-icon> -->\\r\\n          <!-- <ion-icon name=\\\"arrow-forward-outline\\\" slot=\\\"icon-only\\\" size='large'></ion-icon> -->\\r\\n          <!-- <ion-icon name=\\\"chevron-forward-circle-outline\\\" slot=\\\"icon-only\\\" size='large'></ion-icon> -->\\r\\n          <ion-icon name=\\\"enter-outline\\\"  slot=\\\"icon-only\\\" size='large'></ion-icon>\\r\\n        </ion-button>\\r\\n        <!-- 二维码扫描加入班课 -->\\r\\n        <!-- <ion-button color=\\\"primary\\\" [routerLink]=\\\"['/join-classes/join-class']\\\" > -->\\r\\n         \\r\\n        <ion-button color=\\\"primary\\\"   (click)=\\\"brscanner()\\\" >\\r\\n          <!-- <ion-icon name=\\\"scan-outline\\\" slot=\\\"icon-only\\\"></ion-icon> -->\\r\\n          <ion-icon name=\\\"barcode-outline\\\" size='large' slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n\\r\\n      </ion-buttons>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n\\r\\n    <!-- 下拉刷新组件 -->\\r\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"loadCourseData($event)\\\" >\\r\\n      <ion-refresher-content\\r\\n        pullingIcon=\\\"arrow-dropdown\\\"\\r\\n        pullingText=\\\"下拉刷新\\\"\\r\\n        refreshingSpinner=\\\"circles\\\"\\r\\n        refreshingText=\\\"加载中...\\\">\\r\\n      </ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n\\r\\n  <!-- 课程列表 -->\\r\\n\\r\\n  <ion-list *ngIf=\\\"courses_length\\\">\\r\\n\\r\\n    <ion-item button detail lines='full' *ngFor=\\\"let course of courses\\\" routerLink=\\\"/join-classes/members\\\"  [queryParams]=\\\"{courseId:course.courseId, courseName:course.courseName}\\\" >\\r\\n      <!-- 头像部分 -->\\r\\n      <ion-thumbnail slot=\\\"start\\\">\\r\\n        <div class=\\\"profile_icon_blue\\\">{{course.courseName[0]}}</div>\\r\\n      </ion-thumbnail>\\r\\n\\r\\n      <!-- 内容部分 -->\\r\\n      <ion-label>\\r\\n        <!-- 文字部分 -->\\r\\n        <ion-text color=\\\"primary\\\">\\r\\n          <h3>{{course.courseName}}</h3>\\r\\n        </ion-text>\\r\\n        <ion-text>\\r\\n          <p>{{course.teacherName}}&nbsp;&nbsp;&nbsp;<span>{{course.major}}</span></p>\\r\\n        </ion-text>\\r\\n        <ion-text >\\r\\n          <p>{{course.courseSemester}} </p>\\r\\n        </ion-text>\\r\\n\\r\\n        <!-- 按钮部分 -->\\r\\n        <!-- <div>\\r\\n          <ion-buttons slot=\\\"secondary\\\" >\\r\\n            <ion-button slot=\\\"end\\\" size=\\\"small\\\" > \\r\\n              <ion-icon name=\\\"hand-right-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n              签到\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n        </div> -->\\r\\n      </ion-label>\\r\\n      <!-- 内容部分结束 -->\\r\\n\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { JoinClassesPage } from './join-classes.page';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', \r\n    component: JoinClassesPage,\r\n    \r\n  },\r\n  // {\r\n  //   path: 'join-tabs',\r\n  //   loadChildren: () => import('./join-tabs/join-tabs.module').then( m => m.JoinTabsPageModule)\r\n  // },\r\n  {\r\n    path: 'members',\r\n    loadChildren: () => import('./members/members.module').then( m => m.MembersPageModule)\r\n  },\r\n  {\r\n    path: 'class-detail',\r\n    loadChildren: () => import('./class-detail/class-detail.module').then( m => m.ClassDetailPageModule)\r\n  },\r\n  {\r\n    path: 'join-class',\r\n    loadChildren: () => import('./join-class/join-class.module').then( m => m.JoinClassPageModule)\r\n  },\r\n  {\r\n    path: 'join',\r\n    loadChildren: () => import('./join/join.module').then( m => m.JoinPageModule)\r\n  },\r\n  {\r\n    path: 'sign-in',\r\n    loadChildren: () => import('./sign-in/sign-in.module').then( m => m.SignInPageModule)\r\n  },\r\n  \r\n\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class JoinClassesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { JoinClassesPageRoutingModule } from './join-classes-routing.module';\r\n\r\nimport { JoinClassesPage } from './join-classes.page';\r\n// 引入自定义模块\r\nimport { SearchPageModule }  from '../search/search.module'\r\nimport { MembersPageModule } from \"./members/members.module\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    // ComponentsModule,\r\n    JoinClassesPageRoutingModule,\r\n    SearchPageModule,\r\n    MembersPageModule,\r\n  ],\r\n  declarations: [JoinClassesPage],\r\n})\r\nexport class JoinClassesPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2pvaW4tY2xhc3Nlcy9qb2luLWNsYXNzZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ZrServicesService } from \"../../shared/services/zr-services.service\";\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { MylocalstorageService } from 'src/app/shared/services/mylocalstorage.service';\r\nimport { EventService } from 'src/app/shared/services/event.service';\r\nimport { ToastServiceProvider } from \"../../shared/services/toast-service.service\";\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { BaseUI } from 'src/app/common/baseui';\r\n\r\n@Component({\r\n  selector: 'app-join-classes',\r\n  templateUrl: './join-classes.page.html',\r\n  styleUrls: ['./join-classes.page.scss'],\r\n})\r\nexport class JoinClassesPage extends BaseUI implements OnInit {\r\n\r\n\r\n  userId:any = ''\r\n\r\n  courseId:any\r\n  role:any  // 身份\r\n  reload:false\r\n\r\n\r\n  courses:any[];\r\n  courses_length = 0\r\n\r\n\r\n  constructor(private zrServices: ZrServicesService,\r\n    public router:Router,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private localStorageService: MylocalstorageService,\r\n    public eventService:EventService,\r\n    public toastService:ToastServiceProvider,\r\n    public loadingController: LoadingController\r\n    ) { \r\n      super()\r\n    }\r\n    \r\n\r\n  ngOnInit() {\r\n    // this.userId=this.localStorageService.get('uid','')\r\n    // this.loadCourseData()\r\n    \r\n  }\r\n  ionViewWillEnter() {\r\n    this.userId=this.localStorageService.get('uid','')\r\n    this.loadCourseData(null)\r\n    this.eventService.event.on('classupdate', () => {\r\n      this.loadCourseData(null);\r\n    })\r\n  }\r\n\r\n\r\n  loadCourseData(event){\r\n    this.zrServices.getCourseById(this.userId).then((result:any) => {\r\n      // console.log('根据用户号，获取该用户已加入的课程列表', result);\r\n      if (result.code =='200') {\r\n        this.courses = result.data\r\n        this.courses_length = this.courses.length\r\n      }else{\r\n        this.toastService.errorToast(result.msg)\r\n      }\r\n    }).catch(async (error)=>{\r\n      this.toastService.errorToast('请求课程列表出现错误：')\r\n    }).finally(() => {\r\n      if (event != null) { //如果不是第一次调用，则需要通知refresher控件结束工作\r\n        event.target.complete();\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  brscanner(){\r\n\r\n    this.barcodeScanner.scan().then(barcodeData => {\r\n      this.courseId=barcodeData['text']\r\n      // console.log(this.courseId)\r\n      // alert(JSON.stringify(barcodeData));\r\n      this.router.navigate(['/tabs/join-classes/join'], {queryParams: {cId: this.courseId\r\n      }});\r\n   }).catch(err => {\r\n       this.toastService.errorAlert(err)\r\n   });\r\n    \r\n  }\r\n  \r\n    \r\n}\r\n"],"sourceRoot":"webpack:///","file":"join-classes-join-classes-module-es5.js"}